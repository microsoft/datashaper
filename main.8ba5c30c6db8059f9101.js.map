{"version":3,"file":"main.8ba5c30c6db8059f9101.js","mappings":";;AA+FA;AAMA;AAiBA;AC1GA;AACA;AACA;;;;;;ACDA;AACA;ACHA;;;ACAA;;ACDA;;ACOA;;;;AAMA;;;;;AAOA;;;;;ACNA;;;;;;ACPA;;AAGA;AAGA;;;ACFA;;ACNA;;;;AAAA;;;;ACPA;;;AC0DA;;ACxDA;ACAA;;AAEA;AACA;;;;AAMA;;;AAKA;;;;AAMA;;;AAGA;;;;AAMA;;;;AC3BA;;;;AAgBA;AAEA;ACpBA;;;;AAIA;AAGA;;AAIA;;AAIA;;;;;;ACRA;;;;;AAKA;AAEA;;;;;;;;;;AClBA;;;;AAIA;AACA;ACDA;;;;;;ACOA;;;;AAMA;;;;AAMA;;;;;;;;;;ACvBA;;AAIA;;;;;;;;AAQA;;ACAA;ACTA;AACA;;;AAIA;;AAGA;;;;;ACXA;;;;;;ACOA;;;;;AAOA;;AAIA;;;;;AAMA;;;;ACjBA;;;;AAMA;;;AAKA;;;;;AAOA;;;;AClBA;;;AAKA;;;;;AAKA;AAGA;;AAIA;AAGA;;AAEA;;;AC7BA;;;;;;ACOA;AAGA;;;AAGA;AAIA;;ACEA;;;;ACPA;;;ACNA;;;AAKA;;;;;AAKA;AAGA;;;AAKA;;AAIA;;AAIA;;;;ACKA;;;;AC/BA;;;;AAKA;;;;ACMA;;;ACPA;;;;AC2CA;;;AChDA;;;ACAA;;;;AAMA;;;AC8EA;;;;;AAOA;;;ACqDA;;;;AAMA;;;;AAMA;;;AC3JA;;;;AAMA;;AAIA;;;;;AAKA;AAGA;;;;ACUA;;;;;;;;;;ACRA;;;;;;;;ACfA;;;;ACLA;;AAGA;;;;;;;AAOA;;;;AAIA;;;;;;;;;;;;AAYA;;;;;ACgBA;;AC3CA;;;ACCA;;;;;ACOA;;;;AAIA;AAGA;;;AAKA;;;;AAMA;AA3BA;;;AAiCA;;AAEA;;ACvBA;;ACnBA;;;;;;ACaA;AACA;;;;AAMA;;;AAGA;;AAKA;;;;;AAKA;AC8BA;;;AC1CA;;;;AAIA;AAGA;;;;;;AClBA;AAGA;;;AAGA;ACkBA;;;ACtBA;;ACZA;;;;ACkBA;AAIA;;;;;AAKA;AAGA;;AApBA;AALA;AA6BA;AAzBA;AA6BA;;;;AA3BA;AAAA;AAAA;AADA;AAAA;;AAwCA;;;AAGA;AAGA;AA5CA;;AA+CA;AAGA;;;;;AAKA;AA1DA;AA8DA;;;;;;AC5DA;;;;AAMA;;;AAGA;AAGA;;;AAGA;AAGA;;;;;ACjBA;;AAIA;AACA;AAGA;;AAIA;;ACjBA;;;;;AAKA;AACA;AACA;;;AAKA;;;;;;;;;;;;;ACTA;;;;;ACSA;;;AAGA;AAGA;AACA;;AAEA;;AAIA;;;;;;AAMA;AACA;AACA;;;ACvBA;;ACVA;;;;;AAKA;AACA;AACA;;;AAKA;;;AAKA;;;;ACxBA;;;;;;;;;ACYA;AACA;AACA;AAGA;;AAYA;;;ACrBA;;ACDA;;AAKA;;;;;;AAWA;;;;;;AAMA;ACvBA;;;;;ADkCA;AClCA;;ACCA;;;;;;;;;;ACUA","sources":["webpack://@datashaper/webapp/../../.yarn/cache/ajv-npm-8.12.0-3bf6e30741-4dc13714e3.zip/node_modules/ajv/dist/compile/validate/dataType.js","webpack://@datashaper/webapp/../../.yarn/cache/ajv-npm-8.12.0-3bf6e30741-4dc13714e3.zip/node_modules/ajv/dist/vocabularies/applicator/dependencies.js","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-app-framework-virtual-2df40eb901/1/javascript/app-framework/src/components/editors/CompoundEditor/ViewOptions.styles.ts","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-app-framework-virtual-2df40eb901/1/javascript/app-framework/src/components/editors/CompoundEditor/ViewOptions.tsx","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-react-virtual-d278aef28a/1/javascript/react/src/components/Codebook/CodebookNameField/CodebookNameField.styles.ts","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-react-virtual-d278aef28a/1/javascript/react/src/components/Codebook/CodebookNameField/CodebookNameField.tsx","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-react-virtual-d278aef28a/1/javascript/react/src/components/controls/CalendarPicker/CalendarPicker.styles.ts","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-react-virtual-d278aef28a/1/javascript/react/src/components/controls/CalendarPicker/CalendarPicker.tsx","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-react-virtual-d278aef28a/1/javascript/react/src/components/verbs/forms/styles.ts","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-react-virtual-d278aef28a/1/javascript/react/src/components/verbs/forms/shared/DataTypeField.styles.ts","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-react-virtual-d278aef28a/1/javascript/react/src/components/verbs/forms/shared/DataTypeField.tsx","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-react-virtual-d278aef28a/1/javascript/react/src/hooks/controls/mapping.ts","webpack://@datashaper/webapp/../../.yarn/__virtual__/observable-hooks-virtual-86dc26be2f/0/cache/observable-hooks-npm-4.2.2-7e4c3ab91d-0e617793c7.zip/node_modules/observable-hooks/dist/esm/helpers.js","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-app-framework-virtual-2df40eb901/1/javascript/app-framework/src/components/editors/ResourceSchemaEditor/ResourceSchemaEditor.tsx","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-react-virtual-d278aef28a/1/javascript/react/src/components/ArqueroTableHeader/ArqueroTableHeader.styles.ts","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-react-virtual-d278aef28a/1/javascript/react/src/components/ArqueroTableHeader/TableName.tsx","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-react-virtual-d278aef28a/1/javascript/react/src/components/ArqueroDetailsList/GroupHeader.styles.ts","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-react-virtual-d278aef28a/1/javascript/react/src/components/ArqueroDetailsList/ArqueroDetailsList.styles.ts","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-react-virtual-d278aef28a/1/javascript/react/src/components/ArqueroDetailsList/renderers/CommandBarContainer.styles.ts","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-react-virtual-d278aef28a/1/javascript/react/src/components/ArqueroDetailsList/renderers/CommandBarContainer.tsx","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-react-virtual-d278aef28a/1/javascript/react/src/components/ArqueroDetailsList/renderers/DefaultColumnHeader.styles.ts","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-react-virtual-d278aef28a/1/javascript/react/src/components/ArqueroDetailsList/renderers/ValidationCellWrapper.styles.ts","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-react-virtual-d278aef28a/1/javascript/react/src/components/ArqueroDetailsList/renderers/ValidationCellWrapper.tsx","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-react-virtual-d278aef28a/1/javascript/react/src/components/ArqueroDetailsList/renderers/StatCell.styles.ts","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-react-virtual-d278aef28a/1/javascript/react/src/components/ArqueroDetailsList/renderers/StatsColumnHeader.constants.ts","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-app-framework-virtual-2df40eb901/1/javascript/app-framework/src/components/DataTableConfig/DataTableConfig.styles.ts","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-app-framework-virtual-2df40eb901/1/javascript/app-framework/src/components/DataTableConfig/Parser/Parser.styles.ts","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-app-framework-virtual-2df40eb901/1/javascript/app-framework/src/components/DataTableConfig/Shape/Shape.styles.ts","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-app-framework-virtual-2df40eb901/1/javascript/app-framework/src/components/DataTableConfig/Shape/TableLayoutOptions.utils.tsx","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-app-framework-virtual-2df40eb901/1/javascript/app-framework/src/components/editors/DataTableEditor/DataTableEditor.styles.ts","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-app-framework-virtual-2df40eb901/1/javascript/app-framework/src/components/editors/DataTableEditor/DataTableEditor.tsx","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-react-virtual-d278aef28a/1/javascript/react/src/components/verbs/forms/forms/VerbForm.styles.tsx","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-react-virtual-d278aef28a/1/javascript/react/src/components/verbs/forms/shared/FilterFunction.styles.ts","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-react-virtual-d278aef28a/1/javascript/react/src/components/verbs/forms/shared/FilterFunction.tsx","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-react-virtual-d278aef28a/1/javascript/react/src/components/verbs/forms/FilterForm/FilterForm.styles.ts","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-react-virtual-d278aef28a/1/javascript/react/src/components/verbs/forms/FilterForm/FilterForm.tsx","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-react-virtual-d278aef28a/1/javascript/react/src/components/verbs/forms/SetOperationForm/SetOperationForm.styles.ts","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-react-virtual-d278aef28a/1/javascript/react/src/components/verbs/forms/SetOperationForm/SetOperationForm.hooks.tsx","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-react-virtual-d278aef28a/1/javascript/react/src/components/controls/SortInstruction/SortInstruction.styles.ts","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-react-virtual-d278aef28a/1/javascript/react/src/components/verbs/forms/OrderbyForm/OrderbyForm.styles.ts","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-react-virtual-d278aef28a/1/javascript/react/src/components/verbs/forms/RecodeForm/RecodeForm.tsx","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-react-virtual-d278aef28a/1/javascript/react/src/components/verbs/forms/RenameForm/RenameForm.tsx","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-react-virtual-d278aef28a/1/javascript/react/src/components/verbs/forms/SampleForm/Sample.styles.tsx","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-react-virtual-d278aef28a/1/javascript/react/src/components/StepForm/StepForm.tsx","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-react-virtual-d278aef28a/1/javascript/react/src/components/StepEditor/StepEditor.styles.ts","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-react-virtual-d278aef28a/1/javascript/react/src/components/StepEditor/StepEditor.tsx","webpack://@datashaper/webapp/../../.yarn/__virtual__/@essex-components-virtual-35d2ca7c62/0/cache/@essex-components-npm-3.8.2-e9c8f3eece-192cf4be40.zip/node_modules/@essex/components/dist/MarkdownBrowser/MarkdownBrowser.styles.js","webpack://@datashaper/webapp/../../.yarn/__virtual__/@essex-components-virtual-35d2ca7c62/0/cache/@essex-components-npm-3.8.2-e9c8f3eece-192cf4be40.zip/node_modules/@essex/components/dist/MarkdownBrowser/MarkdownBrowser.hooks.js","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-react-virtual-d278aef28a/1/javascript/react/src/components/TableCommands/GuidanceExpansion.styles.ts","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-react-virtual-d278aef28a/1/javascript/react/src/components/TableCommands/GuidanceExpansion.tsx","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-react-virtual-d278aef28a/1/javascript/react/src/components/TableCommands/StepEditorModal.styles.ts","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-react-virtual-d278aef28a/1/javascript/react/src/components/TableCommands/StepEditorModal.tsx","webpack://@datashaper/webapp/../../.yarn/__virtual__/@fluentui-react-virtual-58fd16e7dd/0/cache/@fluentui-react-npm-8.110.2-669ea1c8a4-c8b77bf4bd.zip/node_modules/@fluentui/react/lib/components/Dialog/DialogContent.types.js","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-react-virtual-d278aef28a/1/javascript/react/src/components/StepList/StepHeader.styles.ts","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-react-virtual-d278aef28a/1/javascript/react/src/components/StepList/StepHeader.utils.ts","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-react-virtual-d278aef28a/1/javascript/react/src/components/StepList/StepList.styles.ts","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-app-framework-virtual-2df40eb901/1/javascript/app-framework/src/components/editors/TableBundleEditor/TableBundleEditor.styles.ts","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-app-framework-virtual-2df40eb901/1/javascript/app-framework/src/components/editors/TableBundleEditor/TableBundleEditor.tsx","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-app-framework-virtual-2df40eb901/1/javascript/app-framework/src/components/tables/RawTable/RawTable.styles.ts","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-app-framework-virtual-2df40eb901/1/javascript/app-framework/src/components/tables/RawTable/RawTable.types.ts","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-app-framework-virtual-2df40eb901/1/javascript/app-framework/src/components/tables/ImportTable/ImportTable.styles.ts","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-app-framework-virtual-2df40eb901/1/javascript/app-framework/src/components/app/ResourcesPane/ResourcesPane.styles.ts","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-app-framework-virtual-2df40eb901/1/javascript/app-framework/src/components/app/ResourcesPane/FileTreeCommands.styles.ts","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-app-framework-virtual-2df40eb901/1/javascript/app-framework/src/components/app/ResourcesPane/HelpPanel.styles.ts","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-app-framework-virtual-2df40eb901/1/javascript/app-framework/src/components/app/ResourcesPane/HelpPanel.tsx","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-react-virtual-d278aef28a/1/javascript/react/src/components/FieldWell/FieldWell.styles.ts","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-react-virtual-d278aef28a/1/javascript/react/src/components/FieldWell/FieldWell.tsx","webpack://@datashaper/webapp/../../.yarn/__virtual__/@datashaper-app-framework-virtual-2df40eb901/1/javascript/app-framework/src/components/app/ResourcesPane/SettingsPanel.styles.ts","webpack://@datashaper/webapp/../../.yarn/__virtual__/@essex-components-virtual-35d2ca7c62/0/cache/@essex-components-npm-3.8.2-e9c8f3eece-192cf4be40.zip/node_modules/@essex/components/dist/Settings/Settings.styles.js","webpack://@datashaper/webapp/./src/components/Footer.styles.ts","webpack://@datashaper/webapp/./src/components/Footer.tsx","webpack://@datashaper/webapp/./src/components/Header.styles.ts","webpack://@datashaper/webapp/./src/components/Header.tsx","webpack://@datashaper/webapp/./src/components/Layout.tsx","webpack://@datashaper/webapp/./src/App/App.tsx"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.reportTypeError = exports.checkDataTypes = exports.checkDataType = exports.coerceAndCheckDataType = exports.getJSONTypes = exports.getSchemaTypes = exports.DataType = void 0;\nconst rules_1 = require(\"../rules\");\nconst applicability_1 = require(\"./applicability\");\nconst errors_1 = require(\"../errors\");\nconst codegen_1 = require(\"../codegen\");\nconst util_1 = require(\"../util\");\nvar DataType;\n(function (DataType) {\n    DataType[DataType[\"Correct\"] = 0] = \"Correct\";\n    DataType[DataType[\"Wrong\"] = 1] = \"Wrong\";\n})(DataType = exports.DataType || (exports.DataType = {}));\nfunction getSchemaTypes(schema) {\n    const types = getJSONTypes(schema.type);\n    const hasNull = types.includes(\"null\");\n    if (hasNull) {\n        if (schema.nullable === false)\n            throw new Error(\"type: null contradicts nullable: false\");\n    }\n    else {\n        if (!types.length && schema.nullable !== undefined) {\n            throw new Error('\"nullable\" cannot be used without \"type\"');\n        }\n        if (schema.nullable === true)\n            types.push(\"null\");\n    }\n    return types;\n}\nexports.getSchemaTypes = getSchemaTypes;\nfunction getJSONTypes(ts) {\n    const types = Array.isArray(ts) ? ts : ts ? [ts] : [];\n    if (types.every(rules_1.isJSONType))\n        return types;\n    throw new Error(\"type must be JSONType or JSONType[]: \" + types.join(\",\"));\n}\nexports.getJSONTypes = getJSONTypes;\nfunction coerceAndCheckDataType(it, types) {\n    const { gen, data, opts } = it;\n    const coerceTo = coerceToTypes(types, opts.coerceTypes);\n    const checkTypes = types.length > 0 &&\n        !(coerceTo.length === 0 && types.length === 1 && (0, applicability_1.schemaHasRulesForType)(it, types[0]));\n    if (checkTypes) {\n        const wrongType = checkDataTypes(types, data, opts.strictNumbers, DataType.Wrong);\n        gen.if(wrongType, () => {\n            if (coerceTo.length)\n                coerceData(it, types, coerceTo);\n            else\n                reportTypeError(it);\n        });\n    }\n    return checkTypes;\n}\nexports.coerceAndCheckDataType = coerceAndCheckDataType;\nconst COERCIBLE = new Set([\"string\", \"number\", \"integer\", \"boolean\", \"null\"]);\nfunction coerceToTypes(types, coerceTypes) {\n    return coerceTypes\n        ? types.filter((t) => COERCIBLE.has(t) || (coerceTypes === \"array\" && t === \"array\"))\n        : [];\n}\nfunction coerceData(it, types, coerceTo) {\n    const { gen, data, opts } = it;\n    const dataType = gen.let(\"dataType\", (0, codegen_1._) `typeof ${data}`);\n    const coerced = gen.let(\"coerced\", (0, codegen_1._) `undefined`);\n    if (opts.coerceTypes === \"array\") {\n        gen.if((0, codegen_1._) `${dataType} == 'object' && Array.isArray(${data}) && ${data}.length == 1`, () => gen\n            .assign(data, (0, codegen_1._) `${data}[0]`)\n            .assign(dataType, (0, codegen_1._) `typeof ${data}`)\n            .if(checkDataTypes(types, data, opts.strictNumbers), () => gen.assign(coerced, data)));\n    }\n    gen.if((0, codegen_1._) `${coerced} !== undefined`);\n    for (const t of coerceTo) {\n        if (COERCIBLE.has(t) || (t === \"array\" && opts.coerceTypes === \"array\")) {\n            coerceSpecificType(t);\n        }\n    }\n    gen.else();\n    reportTypeError(it);\n    gen.endIf();\n    gen.if((0, codegen_1._) `${coerced} !== undefined`, () => {\n        gen.assign(data, coerced);\n        assignParentData(it, coerced);\n    });\n    function coerceSpecificType(t) {\n        switch (t) {\n            case \"string\":\n                gen\n                    .elseIf((0, codegen_1._) `${dataType} == \"number\" || ${dataType} == \"boolean\"`)\n                    .assign(coerced, (0, codegen_1._) `\"\" + ${data}`)\n                    .elseIf((0, codegen_1._) `${data} === null`)\n                    .assign(coerced, (0, codegen_1._) `\"\"`);\n                return;\n            case \"number\":\n                gen\n                    .elseIf((0, codegen_1._) `${dataType} == \"boolean\" || ${data} === null\n              || (${dataType} == \"string\" && ${data} && ${data} == +${data})`)\n                    .assign(coerced, (0, codegen_1._) `+${data}`);\n                return;\n            case \"integer\":\n                gen\n                    .elseIf((0, codegen_1._) `${dataType} === \"boolean\" || ${data} === null\n              || (${dataType} === \"string\" && ${data} && ${data} == +${data} && !(${data} % 1))`)\n                    .assign(coerced, (0, codegen_1._) `+${data}`);\n                return;\n            case \"boolean\":\n                gen\n                    .elseIf((0, codegen_1._) `${data} === \"false\" || ${data} === 0 || ${data} === null`)\n                    .assign(coerced, false)\n                    .elseIf((0, codegen_1._) `${data} === \"true\" || ${data} === 1`)\n                    .assign(coerced, true);\n                return;\n            case \"null\":\n                gen.elseIf((0, codegen_1._) `${data} === \"\" || ${data} === 0 || ${data} === false`);\n                gen.assign(coerced, null);\n                return;\n            case \"array\":\n                gen\n                    .elseIf((0, codegen_1._) `${dataType} === \"string\" || ${dataType} === \"number\"\n              || ${dataType} === \"boolean\" || ${data} === null`)\n                    .assign(coerced, (0, codegen_1._) `[${data}]`);\n        }\n    }\n}\nfunction assignParentData({ gen, parentData, parentDataProperty }, expr) {\n    // TODO use gen.property\n    gen.if((0, codegen_1._) `${parentData} !== undefined`, () => gen.assign((0, codegen_1._) `${parentData}[${parentDataProperty}]`, expr));\n}\nfunction checkDataType(dataType, data, strictNums, correct = DataType.Correct) {\n    const EQ = correct === DataType.Correct ? codegen_1.operators.EQ : codegen_1.operators.NEQ;\n    let cond;\n    switch (dataType) {\n        case \"null\":\n            return (0, codegen_1._) `${data} ${EQ} null`;\n        case \"array\":\n            cond = (0, codegen_1._) `Array.isArray(${data})`;\n            break;\n        case \"object\":\n            cond = (0, codegen_1._) `${data} && typeof ${data} == \"object\" && !Array.isArray(${data})`;\n            break;\n        case \"integer\":\n            cond = numCond((0, codegen_1._) `!(${data} % 1) && !isNaN(${data})`);\n            break;\n        case \"number\":\n            cond = numCond();\n            break;\n        default:\n            return (0, codegen_1._) `typeof ${data} ${EQ} ${dataType}`;\n    }\n    return correct === DataType.Correct ? cond : (0, codegen_1.not)(cond);\n    function numCond(_cond = codegen_1.nil) {\n        return (0, codegen_1.and)((0, codegen_1._) `typeof ${data} == \"number\"`, _cond, strictNums ? (0, codegen_1._) `isFinite(${data})` : codegen_1.nil);\n    }\n}\nexports.checkDataType = checkDataType;\nfunction checkDataTypes(dataTypes, data, strictNums, correct) {\n    if (dataTypes.length === 1) {\n        return checkDataType(dataTypes[0], data, strictNums, correct);\n    }\n    let cond;\n    const types = (0, util_1.toHash)(dataTypes);\n    if (types.array && types.object) {\n        const notObj = (0, codegen_1._) `typeof ${data} != \"object\"`;\n        cond = types.null ? notObj : (0, codegen_1._) `!${data} || ${notObj}`;\n        delete types.null;\n        delete types.array;\n        delete types.object;\n    }\n    else {\n        cond = codegen_1.nil;\n    }\n    if (types.number)\n        delete types.integer;\n    for (const t in types)\n        cond = (0, codegen_1.and)(cond, checkDataType(t, data, strictNums, correct));\n    return cond;\n}\nexports.checkDataTypes = checkDataTypes;\nconst typeError = {\n    message: ({ schema }) => `must be ${schema}`,\n    params: ({ schema, schemaValue }) => typeof schema == \"string\" ? (0, codegen_1._) `{type: ${schema}}` : (0, codegen_1._) `{type: ${schemaValue}}`,\n};\nfunction reportTypeError(it) {\n    const cxt = getTypeErrorContext(it);\n    (0, errors_1.reportError)(cxt, typeError);\n}\nexports.reportTypeError = reportTypeError;\nfunction getTypeErrorContext(it) {\n    const { gen, data, schema } = it;\n    const schemaCode = (0, util_1.schemaRefOrVal)(it, schema, \"type\");\n    return {\n        gen,\n        keyword: \"type\",\n        data,\n        schema: schema.type,\n        schemaCode,\n        schemaValue: schemaCode,\n        parentSchema: schema,\n        params: {},\n        it,\n    };\n}\n//# sourceMappingURL=dataType.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateSchemaDeps = exports.validatePropertyDeps = exports.error = void 0;\nconst codegen_1 = require(\"../../compile/codegen\");\nconst util_1 = require(\"../../compile/util\");\nconst code_1 = require(\"../code\");\nexports.error = {\n    message: ({ params: { property, depsCount, deps } }) => {\n        const property_ies = depsCount === 1 ? \"property\" : \"properties\";\n        return (0, codegen_1.str) `must have ${property_ies} ${deps} when property ${property} is present`;\n    },\n    params: ({ params: { property, depsCount, deps, missingProperty } }) => (0, codegen_1._) `{property: ${property},\n    missingProperty: ${missingProperty},\n    depsCount: ${depsCount},\n    deps: ${deps}}`, // TODO change to reference\n};\nconst def = {\n    keyword: \"dependencies\",\n    type: \"object\",\n    schemaType: \"object\",\n    error: exports.error,\n    code(cxt) {\n        const [propDeps, schDeps] = splitDependencies(cxt);\n        validatePropertyDeps(cxt, propDeps);\n        validateSchemaDeps(cxt, schDeps);\n    },\n};\nfunction splitDependencies({ schema }) {\n    const propertyDeps = {};\n    const schemaDeps = {};\n    for (const key in schema) {\n        if (key === \"__proto__\")\n            continue;\n        const deps = Array.isArray(schema[key]) ? propertyDeps : schemaDeps;\n        deps[key] = schema[key];\n    }\n    return [propertyDeps, schemaDeps];\n}\nfunction validatePropertyDeps(cxt, propertyDeps = cxt.schema) {\n    const { gen, data, it } = cxt;\n    if (Object.keys(propertyDeps).length === 0)\n        return;\n    const missing = gen.let(\"missing\");\n    for (const prop in propertyDeps) {\n        const deps = propertyDeps[prop];\n        if (deps.length === 0)\n            continue;\n        const hasProperty = (0, code_1.propertyInData)(gen, data, prop, it.opts.ownProperties);\n        cxt.setParams({\n            property: prop,\n            depsCount: deps.length,\n            deps: deps.join(\", \"),\n        });\n        if (it.allErrors) {\n            gen.if(hasProperty, () => {\n                for (const depProp of deps) {\n                    (0, code_1.checkReportMissingProp)(cxt, depProp);\n                }\n            });\n        }\n        else {\n            gen.if((0, codegen_1._) `${hasProperty} && (${(0, code_1.checkMissingProp)(cxt, deps, missing)})`);\n            (0, code_1.reportMissingProp)(cxt, missing);\n            gen.else();\n        }\n    }\n}\nexports.validatePropertyDeps = validatePropertyDeps;\nfunction validateSchemaDeps(cxt, schemaDeps = cxt.schema) {\n    const { gen, data, keyword, it } = cxt;\n    const valid = gen.name(\"valid\");\n    for (const prop in schemaDeps) {\n        if ((0, util_1.alwaysValidSchema)(it, schemaDeps[prop]))\n            continue;\n        gen.if((0, code_1.propertyInData)(gen, data, prop, it.opts.ownProperties), () => {\n            const schCxt = cxt.subschema({ keyword, schemaProp: prop }, valid);\n            cxt.mergeValidEvaluated(schCxt, valid);\n        }, () => gen.var(valid, true) // TODO var\n        );\n        cxt.ok(valid);\n    }\n}\nexports.validateSchemaDeps = validateSchemaDeps;\nexports.default = def;\n//# sourceMappingURL=dependencies.js.map","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport styled from 'styled-components'\n\nexport const ViewOptionsContainer = styled.div`\n\tdisplay: flex;\n\tjustify-content: end;\n\tmin-height: 45px;\n\talign-items: center;\n\tpadding-right: 5px;\n\tbackground: ${({ theme }) => theme.palette.neutralLighter};\n\tborder-bottom: 1px solid ${({ theme }) => theme.palette.neutralTertiaryAlt};\n`\n\nexport const icons = {\n\trawFile: { iconName: 'CodeEdit' },\n\tinteractive: { iconName: 'PreviewLink' },\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { ButtonChoiceGroup } from '@essex/components'\nimport type { IChoiceGroupOption } from '@fluentui/react'\nimport { memo, useCallback } from 'react'\n\nimport { ViewOptionsContainer } from './ViewOptions.styles.js'\nimport type { ViewOptionsProps } from './ViewOptions.types.js'\n\nexport const ViewOptions: React.FC<ViewOptionsProps> = memo(\n\tfunction ViewOptions({ options, selectedKey, onChange }) {\n\t\treturn (\n\t\t\t<ViewOptionsContainer>\n\t\t\t\t<ButtonChoiceGroup\n\t\t\t\t\toptions={options}\n\t\t\t\t\tselectedKey={selectedKey}\n\t\t\t\t\tonChange={useCallback(\n\t\t\t\t\t\t(_: unknown, option: IChoiceGroupOption | undefined) => {\n\t\t\t\t\t\t\tif (option != null) {\n\t\t\t\t\t\t\t\tonChange(option.key)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t[onChange],\n\t\t\t\t\t)}\n\t\t\t\t/>\n\t\t\t</ViewOptionsContainer>\n\t\t)\n\t},\n)\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport styled from '@essex/styled-components'\nimport { Label } from '@fluentui/react'\n\nexport const Flex = styled.div`\n\tdisplay: flex;\n\talign-items: center;\n`\nexport const FieldName = styled(Label as any)`\n\tmargin: auto;\n`\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { Checkbox } from '@fluentui/react'\nimport { type FormEvent, memo, useCallback, useRef } from 'react'\n\nimport { FieldName, Flex } from './CodebookNameField.styles.js'\nimport type { CodebookNameFieldProps } from './CodebookNameField.types.js'\n\nexport const CodebookNameField: React.FC<CodebookNameFieldProps> = memo(\n\tfunction CodebookNameField(props) {\n\t\tconst { field, onChangeField, styles, checkbox } = props\n\n\t\tconst wrapperRef = useRef<HTMLDivElement | null>(null)\n\n\t\tconst onChangeValue = useCallback(\n\t\t\t(\n\t\t\t\t_?: FormEvent<HTMLElement | HTMLInputElement> | undefined,\n\t\t\t\tchecked?: boolean | undefined,\n\t\t\t) => {\n\t\t\t\tonChangeField?.({ ...field, exclude: !checked })\n\t\t\t\tcheckbox?.onChange?.(_, checked)\n\t\t\t},\n\t\t\t[onChangeField, checkbox, field],\n\t\t)\n\n\t\treturn (\n\t\t\t<div ref={wrapperRef} style={styles?.root}>\n\t\t\t\t<Flex>\n\t\t\t\t\t<Checkbox\n\t\t\t\t\t\tstyles={styles?.checkbox}\n\t\t\t\t\t\tchecked={!field.exclude}\n\t\t\t\t\t\t{...checkbox}\n\t\t\t\t\t\tonChange={onChangeValue}\n\t\t\t\t\t/>\n\t\t\t\t\t<FieldName disabled={field.exclude}>{field.name}</FieldName>\n\t\t\t\t</Flex>\n\t\t\t</div>\n\t\t)\n\t},\n)\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport styled from '@essex/styled-components'\nimport { FontIcon, Label, mergeStyles } from '@fluentui/react'\n\nexport const iconClass = mergeStyles({\n\tfontSize: 20,\n\theight: 20,\n\twidth: 20,\n})\n\nexport const Container = styled.div`\n\tdisplay: inline;\n`\n\nexport const CalendarContainer = styled.div`\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n`\n\nexport const CalendarButton = styled(FontIcon as any)`\n\tdisplay: inline;\n\tfloat: left;\n\tmargin-left: 8px;\n\tmargin-right: 4px;\n`\n\nexport const CalendarLabel = styled(Label as any)`\n\tdisplay: inline;\n\tfloat: left;\n\tmargin-left: 8px;\n\tmargin-right: 3px;\n`\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport {\n\tCalendar,\n\tCallout,\n\tdefaultCalendarStrings,\n\tDirectionalHint,\n\tFocusTrapZone,\n\tuseTheme,\n} from '@fluentui/react'\nimport { useBoolean } from '@fluentui/react-hooks'\nimport { memo, useCallback, useMemo, useRef, useState } from 'react'\n\nimport type { CalendarPickerProps } from '../CalendarPicker/index.js'\nimport {\n\tCalendarButton,\n\tCalendarContainer,\n\tCalendarLabel,\n\tContainer,\n\ticonClass,\n} from './CalendarPicker.styles.js'\n\nexport const CalendarPicker: React.FC<CalendarPickerProps> = memo(\n\tfunction CalendarPicker({ onSelectDate, value, disabled, cleanLabel }) {\n\t\tconst [selectedDate, setSelectedDate] = useState<Date>(value ?? new Date())\n\t\tconst [\n\t\t\tshowCalendar,\n\t\t\t{ toggle: toggleShowCalendar, setFalse: hideCalendar },\n\t\t] = useBoolean(false)\n\t\tconst buttonContainerRef = useRef<HTMLDivElement>(null)\n\n\t\tconst onSelectDateChange = useCallback(\n\t\t\t(date: Date): void => {\n\t\t\t\tsetSelectedDate(date)\n\t\t\t\thideCalendar()\n\t\t\t},\n\t\t\t[hideCalendar],\n\t\t)\n\n\t\tconst theme = useTheme()\n\t\tconst iconColors = useMemo(\n\t\t\t() => ({\n\t\t\t\tdisabled: theme.palette.neutralTertiary,\n\t\t\t\tenabled: theme.palette.neutralPrimary,\n\t\t\t}),\n\t\t\t[theme],\n\t\t)\n\n\t\treturn (\n\t\t\t<Container>\n\t\t\t\t<CalendarContainer ref={buttonContainerRef}>\n\t\t\t\t\t<CalendarButton\n\t\t\t\t\t\taria-label='Compass'\n\t\t\t\t\t\ticonName='Calendar'\n\t\t\t\t\t\tclassName={iconClass}\n\t\t\t\t\t\tonClick={!disabled ? toggleShowCalendar : undefined}\n\t\t\t\t\t\tstyle={\n\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t? { cursor: 'default', color: iconColors.disabled }\n\t\t\t\t\t\t\t\t: { cursor: 'pointer', color: iconColors.enabled }\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t{selectedDate != null && !cleanLabel ? (\n\t\t\t\t\t\t<CalendarLabel>\n\t\t\t\t\t\t\t{!cleanLabel ? selectedDate?.toLocaleDateString() : ''}\n\t\t\t\t\t\t</CalendarLabel>\n\t\t\t\t\t) : null}\n\t\t\t\t</CalendarContainer>\n\t\t\t\t{showCalendar && (\n\t\t\t\t\t<Callout\n\t\t\t\t\t\tisBeakVisible={false}\n\t\t\t\t\t\tgapSpace={0}\n\t\t\t\t\t\tdoNotLayer={false}\n\t\t\t\t\t\ttarget={buttonContainerRef}\n\t\t\t\t\t\tdirectionalHint={DirectionalHint.bottomLeftEdge}\n\t\t\t\t\t\tonDismiss={hideCalendar}\n\t\t\t\t\t\tsetInitialFocus\n\t\t\t\t\t>\n\t\t\t\t\t\t<FocusTrapZone isClickableOutsideFocusTrap>\n\t\t\t\t\t\t\t<Calendar\n\t\t\t\t\t\t\t\tonDismiss={hideCalendar}\n\t\t\t\t\t\t\t\tshowMonthPickerAsOverlay\n\t\t\t\t\t\t\t\thighlightSelectedMonth\n\t\t\t\t\t\t\t\tshowGoToToday={false}\n\t\t\t\t\t\t\t\tonSelectDate={(date: Date) => {\n\t\t\t\t\t\t\t\t\tonSelectDate(date)\n\t\t\t\t\t\t\t\t\tonSelectDateChange(date)\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tvalue={selectedDate}\n\t\t\t\t\t\t\t\t// Calendar uses English strings by default. For localized apps, you must override this prop.\n\t\t\t\t\t\t\t\tstrings={defaultCalendarStrings}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FocusTrapZone>\n\t\t\t\t\t</Callout>\n\t\t\t\t)}\n\t\t\t</Container>\n\t\t)\n\t},\n)\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport styled from '@essex/styled-components'\nexport { dropdownStyles, narrowDropdownStyles } from '../../styles.js'\n\nexport const LeftAlignedRow = styled.div`\n\twidth: 100%;\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: flex-start;\n\talign-items: flex-end;\n`\n\n/**\n * For explanatory text below an input,\n */\nexport const InputExplainer = styled.div`\n\tfont-size: 0.85em;\n\tcolor: ${({ theme }) => theme.palette.neutralSecondary};\n`\n\nexport const checkboxStyles = {\n\troot: {\n\t\twidth: 220,\n\t\tpaddingTop: '10px',\n\t},\n}\n\n/**\n * For very narrow side-by-sides with a delete button for example\n */\nexport const narrowerDropdownStyles = {\n\troot: {\n\t\twidth: 99,\n\t},\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport styled from '@essex/styled-components'\nimport { Label, TextField } from '@fluentui/react'\n\nimport { narrowDropdownStyles } from '../styles.js'\n\nexport const Container = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n`\n\nexport const leftStyles = {\n\troot: {\n\t\t...narrowDropdownStyles.root,\n\t\tmarginRight: 12,\n\t},\n}\n\nexport const TextValue = styled(TextField as any)`\n\tdisplay: inline;\n`\n\nexport const OrLabel = styled(Label as any)`\n\tdisplay: inline;\n\tpadding-left: 10px;\n\tpadding-right: 10px;\n`\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { DataType } from '@datashaper/schema'\nimport { coerce } from '@datashaper/tables'\nimport type { IDropdownOption } from '@fluentui/react'\nimport { Dropdown, mergeStyleSets, SpinButton } from '@fluentui/react'\nimport { memo, useCallback } from 'react'\n\nimport { CalendarPicker } from '../../../controls/index.js'\nimport { narrowerDropdownStyles } from '../styles.js'\nimport { Container, TextValue } from './DataTypeField.styles.js'\nimport type { DataTypeFieldProps } from './DataTypeField.types.js'\n\nexport const DataTypeField: React.FC<DataTypeFieldProps> = memo(\n\tfunction DataTypeField({\n\t\tdataType,\n\t\tkeyValue,\n\t\tvalue,\n\t\tplaceholder,\n\t\tonKeyChange,\n\t\tonValueChange,\n\t\tisKey,\n\t\tdropdownStyles,\n\t\tdisabled,\n\t}) {\n\t\tconst booleanOptions: IDropdownOption[] = [\n\t\t\t{ key: 'true', text: 'true' },\n\t\t\t{ key: 'false', text: 'false' },\n\t\t]\n\n\t\tconst styles = mergeStyleSets(narrowerDropdownStyles, dropdownStyles)\n\t\tconst onSelectDate = useCallback(\n\t\t\t(date: Date): void => {\n\t\t\t\tconst val = coerce(date, dataType)\n\t\t\t\tisKey\n\t\t\t\t\t? onKeyChange(\n\t\t\t\t\t\t\tnew Date(value).toISOString(),\n\t\t\t\t\t\t\tnew Date(val).toISOString(),\n\t\t\t\t\t  )\n\t\t\t\t\t: onValueChange(\n\t\t\t\t\t\t\tnew Date(keyValue).toISOString(),\n\t\t\t\t\t\t\tnew Date(val).toISOString(),\n\t\t\t\t\t  )\n\t\t\t},\n\t\t\t[onKeyChange, onValueChange, dataType, isKey, value, keyValue],\n\t\t)\n\n\t\tconst onChangeTextFieldValue = useCallback(\n\t\t\t(\n\t\t\t\t_event: React.FormEvent<HTMLInputElement | HTMLTextAreaElement>,\n\t\t\t\tnewValue?: string,\n\t\t\t) => {\n\t\t\t\tconst val = coerce(newValue, dataType)\n\t\t\t\tisKey\n\t\t\t\t\t? onKeyChange(value.toString(), val.toString())\n\t\t\t\t\t: onValueChange(keyValue, val)\n\t\t\t},\n\t\t\t[onKeyChange, onValueChange, dataType, isKey, value, keyValue],\n\t\t)\n\n\t\tconst spinButtonOnChange = useCallback(\n\t\t\t(_event: React.SyntheticEvent<HTMLElement>, newValue?: string) => {\n\t\t\t\tif (newValue != null) {\n\t\t\t\t\tconst val = coerce(newValue, dataType)\n\t\t\t\t\tisKey ? onKeyChange(value, val) : onValueChange(keyValue, val)\n\t\t\t\t}\n\t\t\t},\n\t\t\t[onKeyChange, onValueChange, dataType, isKey, value, keyValue],\n\t\t)\n\n\t\tconst dropDownOnChange = useCallback(\n\t\t\t(\n\t\t\t\t_e: React.FormEvent<HTMLDivElement>,\n\t\t\t\tnewValue?: IDropdownOption<any> | undefined,\n\t\t\t) => {\n\t\t\t\tif (newValue != null) {\n\t\t\t\t\tisKey\n\t\t\t\t\t\t? onKeyChange(value, newValue.key)\n\t\t\t\t\t\t: onValueChange(keyValue, newValue.key === 'true' ? true : false)\n\t\t\t\t}\n\t\t\t},\n\t\t\t[onKeyChange, onValueChange, isKey, value, keyValue],\n\t\t)\n\n\t\treturn (\n\t\t\t<Container>\n\t\t\t\t{dataType === DataType.Date ? (\n\t\t\t\t\t<CalendarPicker\n\t\t\t\t\t\tonSelectDate={onSelectDate}\n\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t/>\n\t\t\t\t) : null}\n\n\t\t\t\t{dataType === DataType.String ? (\n\t\t\t\t\t<TextValue\n\t\t\t\t\t\tonChange={onChangeTextFieldValue}\n\t\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\tstyles={styles}\n\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t/>\n\t\t\t\t) : null}\n\t\t\t\t{dataType === DataType.Number ? (\n\t\t\t\t\t<SpinButton\n\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\tstep={1}\n\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\tstyles={styles}\n\t\t\t\t\t\tonChange={spinButtonOnChange}\n\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t/>\n\t\t\t\t) : null}\n\n\t\t\t\t{dataType === DataType.Boolean ? (\n\t\t\t\t\t<Dropdown\n\t\t\t\t\t\tselectedKey={value.toString()}\n\t\t\t\t\t\toptions={booleanOptions}\n\t\t\t\t\t\tstyles={styles}\n\t\t\t\t\t\tonChange={dropDownOnChange}\n\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t/>\n\t\t\t\t) : null}\n\t\t\t</Container>\n\t\t)\n\t},\n)\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { type Value, DataType } from '@datashaper/schema'\nimport { useCallback } from 'react'\n\nexport function useHandleKeyChange(\n\tmapList: Record<Value, Value>,\n\tonChange?: (mapping: Record<Value, Value>) => void,\n): (previousKey: Value, newKey: Value) => void {\n\treturn useCallback(\n\t\t(previousKey, newKey) => {\n\t\t\tconst mapping: Record<Value, Value> = {}\n\n\t\t\tfor (const key in mapList) {\n\t\t\t\tif (key === previousKey.toString()) {\n\t\t\t\t\tmapping[newKey] = mapList[key]\n\t\t\t\t} else {\n\t\t\t\t\tmapping[key] = mapList[key]\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tonChange?.(mapping)\n\t\t},\n\t\t[mapList, onChange],\n\t)\n}\n\nexport function useHandleValueChange(\n\tmapList: Record<Value, Value>,\n\tdataType?: DataType,\n\tonChange?: (mapping: Record<Value, Value>) => void,\n): (key: Value, newValue: Value) => void {\n\treturn useCallback(\n\t\t(key, newValue) => {\n\t\t\tconst mapping: Record<Value, Value> = {}\n\n\t\t\tfor (const keyElement in mapList) {\n\t\t\t\tmapping[keyElement] =\n\t\t\t\t\tkeyElement === key.toString()\n\t\t\t\t\t\t? dataType === DataType.Date\n\t\t\t\t\t\t\t? new Date(newValue)\n\t\t\t\t\t\t\t: newValue\n\t\t\t\t\t\t: mapList[keyElement]\n\t\t\t}\n\n\t\t\tonChange?.(mapping)\n\t\t},\n\t\t[onChange, dataType, mapList],\n\t)\n}\n\nexport function useHandleDelete(\n\tmapList: Record<Value, Value>,\n\tonChange?: (mapping: Record<Value, Value>) => void,\n): (key: Value) => void {\n\treturn useCallback(\n\t\t(key) => {\n\t\t\tconst mapping = { ...mapList }\n\t\t\tmapping[key] = undefined\n\t\t\tonChange?.(mapping)\n\t\t},\n\t\t[mapList, onChange],\n\t)\n}\n","/**\n * Useful utilities\n */\nimport { useRef, useState, useLayoutEffect, useEffect } from 'react';\nimport { Subject } from 'rxjs';\nimport { pluck } from 'rxjs/operators';\n/**\n * Returns the first argument it receives.\n */\nexport function identity(value) {\n    return value;\n}\n/**\n * Maps an Observable of Arraylike to an Observable\n * of the first item.\n *\n * Example:\n *\n * ```typescript\n * const text$ = useObservable(pluckFirst, [props.text])\n * ```\n *\n * @param inputs$ An Observable of array-like.\n *\n */\nexport function pluckFirst(inputs$) {\n    return pluck(0)(inputs$);\n}\n/**\n * Maps an Observable of DOM events to an Observable\n * of the currentTarget value.\n *\n * Example:\n *\n * ```typescript\n * const [onChange, textChange$] = useObservableCallback<\n *  string,\n *  React.FormEvent<HTMLInputElement>\n * >(pluckCurrentTargetValue)\n * ```\n *\n */\nexport function pluckCurrentTargetValue(event$) {\n    return pluck('currentTarget', 'value')(event$);\n}\n/**\n * Maps an Observable of DOM events to an Observable\n * of the currentTarget checked.\n *\n * Example:\n *\n * ```typescript\n * const [onChange, checked$] = useObservableCallback<\n *  boolean,\n *  React.FormEvent<HTMLInputElement>\n * >(pluckCurrentTargetChecked)\n * ```\n *\n */\nexport function pluckCurrentTargetChecked(event$) {\n    return pluck('currentTarget', 'checked')(event$);\n}\n/**\n * Return an empty Subject\n * @ignore\n */\nexport function getEmptySubject() {\n    return new Subject();\n}\n/**\n * One-time ref init.\n * @param init A function that returns a value. Will be called only once.\n * @returns A ref object with the returned value.\n */\nexport function useRefFn(init) {\n    var firstRef = useRef(true);\n    var ref = useRef(null);\n    if (firstRef.current) {\n        firstRef.current = false;\n        ref.current = init();\n    }\n    return ref;\n}\n/**\n * Force re-renders Component.\n */\nexport function useForceUpdate() {\n    var updateState = useState(0)[1];\n    return useRef(function () { return updateState(increment); }).current;\n}\nfunction increment(n) {\n    return (n + 1) % 1000000;\n}\n/**\n * Prevent React warning when using useLayoutEffect on server.\n */\nexport var useIsomorphicLayoutEffect = typeof window !== 'undefined' &&\n    typeof window.document !== 'undefined' &&\n    typeof window.document.createElement !== 'undefined'\n    ? useLayoutEffect\n    : /* istanbul ignore next: both are not called on server */\n        useEffect;\n//# sourceMappingURL=helpers.js.map","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { memo } from 'react'\nimport type { ProfileComponentProps } from '../../../types.js'\nimport type { Resource } from '@datashaper/workflow'\nimport { LanguageEditor } from '../LanguageEditor/index.js'\nimport { useContent, useOnChange } from './ResourceSchemaEditor.hooks.js'\n\nexport const ResourceSchemaEditor: React.FC<ProfileComponentProps<Resource>> =\n\tmemo(function ResourceSchemaEditor({ resource }) {\n\t\tconst content = useContent(resource)\n\t\tconst onChange = useOnChange(resource)\n\t\treturn (\n\t\t\t<LanguageEditor content={content} onChange={onChange} language={'json'} />\n\t\t)\n\t})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport styled from '@essex/styled-components'\n\nimport { DEFAULT_HEIGHT } from './ArqueroTableHeader.constants.js'\n\nexport const Container = styled.div<{ background: string; color: string }>`\n\theight: ${DEFAULT_HEIGHT}px;\n\twidth: 100%;\n\tbackground-color: ${({ background }) => background};\n\tcolor: ${({ color }) => color};\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n`\n\nexport const H3 = styled.h3`\n\tfont-weight: normal;\n\tfont-size: 0.8em;\n`\n\nexport const Left = styled.div`\n\tflex: 1;\n\tdisplay: flex;\n\tjustify-content: flex-start;\n`\n\nexport const Middle = styled.div<{ hasFarCommandBar: boolean }>`\n\tflex: 2;\n\tdisplay: flex;\n\tjustify-content: ${({ hasFarCommandBar }) =>\n\t\thasFarCommandBar ? 'center' : 'end'};\n\talign-items: center;\n\tpadding: 0 8px;\n\tgap: 8px;\n`\nexport const Right = styled.div`\n\tflex: 1;\n\tdisplay: flex;\n\tjustify-content: flex-end;\n`\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport styled from '@essex/styled-components'\nimport { memo } from 'react'\n\nimport type { TableNameProps } from './TableName.types.js'\n\n/**\n * Renders the table name if passed, or the option to rename the name if the function\n * onRenameTable is passed to be called when clicking save or pressing enter on the callout\n */\nexport const TableName: React.FC<TableNameProps> = memo(function TableName({\n\tname,\n\tcolor,\n}) {\n\treturn (\n\t\t<Container>\n\t\t\t<H3 color={color}>{name}</H3>\n\t\t</Container>\n\t)\n})\n\nconst H3 = styled.h3<{ color?: string }>`\n\tfont-weight: normal;\n\tfont-size: 0.8em;\n\tmargin-right: 8px;\n\tcolor: ${({ theme, color }) => color || theme.palette.white};\n`\nconst Container = styled.div``\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport styled from '@essex/styled-components'\nimport type { ITheme } from '@fluentui/react'\nimport { IconButton } from '@fluentui/react'\n\nexport const HeaderContainer = styled.div<{ groupLevel: number }>`\n\tpadding-left: ${({ groupLevel }) => `${groupLevel * 12}px`};\n\tdisplay: flex;\n\tgap: 8px;\n\tborder-bottom: 1px solid\n\t\t${({ theme }: { theme: ITheme }) => theme.palette.neutralLight};\n`\n\nexport const LevelButton = styled(IconButton as any)`\n\twidth: 32px;\n`\n\nexport const HeaderDetailsText = styled.span`\n\talign-self: center;\n`\n\nexport const Bold = styled.b``\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport styled from '@essex/styled-components'\n\nimport { DEFAULT_ROW_HEIGHT } from './ArqueroDetailsList.constants.js'\n\nexport const DetailsWrapper = styled.div<{\n\tcompact: boolean\n\tcompactRowHeight: number\n}>`\n\theight: inherit;\n\tmax-height: inherit;\n\toverflow-y: auto;\n\toverflow-x: auto;\n\tspan.ms-DetailsHeader-cellTitle {\n\t\tbackground-color: ${({ theme }) => theme.palette.white};\n\t\tpadding-left: 10px;\n\t}\n\n\t.ms-List-cell {\n\t\tmin-height: ${({ compact, compactRowHeight }) =>\n\t\t\tcompact ? compactRowHeight : DEFAULT_ROW_HEIGHT}px;\n\t\theight: ${({ compact, compactRowHeight }) =>\n\t\t\tcompact ? compactRowHeight : DEFAULT_ROW_HEIGHT}px;\n\t}\n\n\t.ms-CommandBar {\n\t\tpadding: unset;\n\t}\n\n\t.ms-OverflowSet {\n\t\tjustify-content: center;\n\t}\n`\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport styled from '@essex/styled-components'\n\nexport const Container = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\tborder-top: 1px solid ${({ theme }) => theme.palette.neutralLighter};\n\tborder-bottom: 1px solid ${({ theme }) => theme.palette.neutralLighter};\n`\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { memo } from 'react'\n\nimport { Container } from './CommandBarContainer.styles.js'\nimport type { CommandBarContainerProps } from './CommandBarContainer.types.js'\nexport type { CommandBarContainerProps } from './CommandBarContainer.types.js'\n\nexport const CommandBarContainer: React.FC<CommandBarContainerProps> = memo(\n\tfunction CommandBarContainer({ props, renderers }) {\n\t\treturn (\n\t\t\t<Container className='header-command-bar'>\n\t\t\t\t{renderers.map((renderer, i) => (\n\t\t\t\t\t<div key={`${renderer.name}@${i}`}>{renderer(props)}</div>\n\t\t\t\t))}\n\t\t\t</Container>\n\t\t)\n\t},\n)\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport type { ITooltipHostStyles } from '@fluentui/react'\nimport { Icon } from '@fluentui/react'\nimport styled from 'styled-components'\n\nexport const HoverContainer = styled.div`\n\twidth: 14px;\n\tmin-height: 14px;\n\ttext-align: right;\n\tdisplay: flex;\n\talign-items: center;\n`\n\nexport const LeftIcon = styled(Icon as any)`\n\twidth: 14px;\n\tposition: absolute;\n\tleft: 8px;\n`\n\nexport const RightIcon = styled(Icon as any)`\n\twidth: 14px;\n\tposition: absolute;\n\tright: 8px;\n`\n\nexport const hostStyles: Partial<ITooltipHostStyles> = {\n\troot: { display: 'flex', alignItems: 'center' },\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport styled from 'styled-components'\n\nexport const WarningContainer = styled.div`\n\twidth: 10px;\n`\n\nexport const Warning = styled.div`\n\twidth: 0;\n\theight: 0;\n\tposition: absolute;\n\ttop: 0;\n\tleft: -3px;\n\tborder-left: 6px solid transparent;\n\tborder-right: 6px solid transparent;\n\tborder-bottom: 6px solid ${({ theme }) => theme.application().warning().hex()};\n\ttransform: rotate(-45deg);\n`\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport {\n\ttype ITooltipHostStyles,\n\tTooltipHost,\n\tDirectionalHint,\n} from '@fluentui/react'\nimport { useId } from '@fluentui/react-hooks'\nimport { memo } from 'react'\n\nimport { getValue } from '../ArqueroDetailsList.utils.js'\nimport { useGetColumnValidationErrors } from '../hooks/useGetColumnValidationErrors.js'\nimport { useValidationErrors } from '../hooks/useValidationErrors.js'\nimport type { FormattedCellProps } from './types.js'\nimport { Warning, WarningContainer } from './ValidationCellWrapper.styles.js'\n\nconst hostStyles: Partial<ITooltipHostStyles> = {\n\troot: { display: 'inline-block' },\n}\nconst calloutProps = { gapSpace: 0 }\n\n/**\n * Wraps any cell rendering with indication of validation errors if present.\n * This statically fixes the left spacing of the contents so there is room for a warning triangle in the corner (like Excel).\n */\nexport const ValidationCellWrapper: React.FC<\n\tReact.PropsWithChildren<FormattedCellProps>\n> = memo(function ValidationCellWrapper({\n\titem,\n\tcolumn,\n\tvalidationResult,\n\tchildren,\n}) {\n\tconst value = getValue(item, column)\n\tconst tooltipId = useId('tooltip')\n\tconst errors = useValidationErrors(value, validationResult)\n\tconst errorMessages = useGetColumnValidationErrors(\n\t\t'This cell value violates the following constraints:',\n\t\terrors,\n\t)\n\treturn (\n\t\t<>\n\t\t\t<WarningContainer>\n\t\t\t\t{errorMessages && (\n\t\t\t\t\t<TooltipHost\n\t\t\t\t\t\tcontent={errorMessages}\n\t\t\t\t\t\tid={tooltipId}\n\t\t\t\t\t\tcalloutProps={calloutProps}\n\t\t\t\t\t\tstyles={hostStyles}\n\t\t\t\t\t\tdirectionalHint={DirectionalHint.bottomRightEdge}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Warning />\n\t\t\t\t\t</TooltipHost>\n\t\t\t\t)}\n\t\t\t</WarningContainer>\n\t\t\t{children}\n\t\t</>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport styled from 'styled-components'\n\nimport { STATS_HEADER_ITEM_HEIGHT } from '../ArqueroDetailsList.constants.js'\n\nexport const Container = styled.div`\n\theight: ${STATS_HEADER_ITEM_HEIGHT}px;\n\tline-height: ${STATS_HEADER_ITEM_HEIGHT}px;\n\tdisplay: flex;\n\tjustify-content: space-between;\n`\nexport const Name = styled.div`\n\ttext-transform: capitalize;\n`\nexport const Value = styled.div`\n\tmax-width: '100%';\n\toverflow: 'hidden';\n\twhite-space: 'nowrap';\n\ttext-overflow: 'ellipsis';\n`\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { StatsColumnType } from '../ArqueroDetailsList.types.js'\n\nexport const pretty: Record<string, string> = {\n\tdistinct: 'unique',\n\tinvalid: 'empty',\n}\n\nexport const DEFAULT_STATS: StatsColumnType[] = [\n\tStatsColumnType.Type,\n\tStatsColumnType.Distinct,\n\tStatsColumnType.Invalid,\n\tStatsColumnType.Min,\n\tStatsColumnType.Max,\n]\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport styled from 'styled-components'\n\nexport const Container = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: flex-start;\n\tgap: 10px;\n\theight: 100%;\n`\nexport const FormatContainer = styled.div`\n\twidth: 100%;\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: center;\n`\n\nexport const ParserContainer = styled.div`\n\twidth: 100%;\n`\n\nexport const ShapeContainer = styled.div`\n\twidth: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 12px;\n`\nexport const buttonChoiceGroupStyles = { alignSelf: 'flex-start' }\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport styled from 'styled-components'\n\nexport const Container = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 12px;\n`\n\nexport const FlexContainer = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 12px;\n`\n\nexport const FieldContainer = styled.div`\n\tdisplay: flex;\n\tcolumn-gap: 10px;\n`\n\nexport const DelimiterContainer = styled.div`\n\tdisplay: flex;\n\tgap: 10px;\n\tflex-direction: row;\n\talign-items: flex-end;\n`\n\nexport const expandoStyles = {\n\tcontent: {\n\t\tpaddingTop: 20,\n\t},\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport type { ITheme } from '@fluentui/react'\nimport { Label } from '@fluentui/react'\nimport styled from 'styled-components'\n\nexport const Container = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 12px;\n`\nexport const FieldContainer = styled.div`\n\tdisplay: flex;\n\tcolumn-gap: 10px;\n`\n\nexport const Code = styled.pre`\n\tmargin: 0;\n\tpadding: 4px;\n\tfont-size: 11px;\n\tborder: 1px solid\n\t\t${({ theme }: { theme: ITheme }) => theme.palette.neutralQuaternary};\n`\n\nexport const ExampleContainer = styled.div``\n\nexport const ExampleLabel = styled(Label as any)`\n\tfont-weight: normal;\n\tcolor: ${({ theme }: { theme: ITheme }) => theme.palette.neutralSecondary};\n`\n\nexport const ExampleDescription = styled.p`\n\tfont-weight: normal;\n\tcolor: ${({ theme }: { theme: ITheme }) => theme.palette.neutralSecondary};\n\tfont-size: 11px;\n\tmargin: 0;\n`\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { DataOrientation } from '@datashaper/schema'\n\nexport const DATA_LAYOUT_OPTIONS = Object.keys(DataOrientation).map((d) => {\n\treturn {\n\t\tkey: d.toLowerCase(),\n\t\ttext: d,\n\t}\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport type { ITheme } from '@fluentui/react'\nimport styled from 'styled-components'\n\nexport const DetailsListContainer = styled.div`\n\toverflow: auto;\n\tdisplay: flex;\n\tflex-direction: column;\n\theight: 100%;\n\tborder-right: 1px solid\n\t\t${({ theme }: { theme: ITheme }) => theme.palette.neutralLighter};\n`\n\nexport const Container = styled.div<{ collapsed: boolean }>`\n\theight: 100%;\n\tdisplay: grid;\n\tgrid-template-columns: ${({ collapsed }) =>\n\t\tcollapsed ? '100% 0' : 'calc(100% - 280px) 280px '};\n`\n\nexport const ConfigContainer = styled.div`\n\tpadding: 10px;\n`\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { ArqueroDetailsList, ArqueroTableHeader } from '@datashaper/react'\nimport type { DataTable } from '@datashaper/workflow'\nimport { ToolPanel } from '@essex/components'\nimport { CommandBar } from '@fluentui/react'\nimport { memo } from 'react'\n\nimport { useDataTableSource } from '../../../hooks/index.js'\nimport type { ProfileComponentProps } from '../../../types.js'\nimport { DataTableConfig } from '../../DataTableConfig/DataTableConfig.js'\nimport { useToolPanelExpandCollapse } from '../hooks.js'\nimport {\n\tuseTableHeaderColors,\n\tuseTableHeaderStyles,\n\tuseToolPanelStyles,\n} from '../styles.js'\nimport {\n\tConfigContainer,\n\tContainer,\n\tDetailsListContainer,\n} from './DataTableEditor.styles.js'\n\nexport const DataTableEditor: React.FC<ProfileComponentProps<DataTable>> = memo(\n\tfunction DataTableEditor({ resource }) {\n\t\tconst table = useDataTableSource(resource)\n\t\tconst tableHeaderColors = useTableHeaderColors()\n\t\tconst tableHeaderStyles = useTableHeaderStyles()\n\t\tconst toolPanelStyles = useToolPanelStyles()\n\t\tconst { collapsed, onToggleCollapsed, commandBar, iconProps } =\n\t\t\tuseToolPanelExpandCollapse('options-button', 'DataManagementSettings')\n\t\treturn table?.table == null ? null : (\n\t\t\t<Container collapsed={collapsed}>\n\t\t\t\t<DetailsListContainer>\n\t\t\t\t\t<ArqueroTableHeader\n\t\t\t\t\t\tbackground={tableHeaderColors.background}\n\t\t\t\t\t\tstyles={tableHeaderStyles}\n\t\t\t\t\t\tfarCommandBar={<CommandBar {...commandBar} />}\n\t\t\t\t\t\ttable={table.table}\n\t\t\t\t\t/>\n\t\t\t\t\t<ArqueroDetailsList\n\t\t\t\t\t\tcompact\n\t\t\t\t\t\tsortable\n\t\t\t\t\t\tshowColumnBorders\n\t\t\t\t\t\tisHeaderFixed\n\t\t\t\t\t\tfill\n\t\t\t\t\t\tmetadata={table.metadata}\n\t\t\t\t\t\ttable={table?.table}\n\t\t\t\t\t/>\n\t\t\t\t</DetailsListContainer>\n\t\t\t\t<ToolPanel\n\t\t\t\t\theaderText={'Parser options'}\n\t\t\t\t\tonDismiss={onToggleCollapsed}\n\t\t\t\t\theaderIconProps={iconProps}\n\t\t\t\t\tstyles={toolPanelStyles}\n\t\t\t\t>\n\t\t\t\t\t<ConfigContainer>\n\t\t\t\t\t\t<DataTableConfig resource={resource} />\n\t\t\t\t\t</ConfigContainer>\n\t\t\t\t</ToolPanel>\n\t\t\t</Container>\n\t\t)\n\t},\n)\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport styled from '@essex/styled-components'\n\nexport const dropdownStyles = {\n\troot: {\n\t\twidth: 220,\n\t},\n}\n\nexport const Container = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 8px;\n`\n\nexport const InputsBlock = styled.div``\n\nexport const Row = styled.div``\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport styled from '@essex/styled-components'\nimport { Label, TextField, Toggle } from '@fluentui/react'\n\nexport const Container = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n`\n\nexport const TextValue = styled(TextField as any)`\n\tdisplay: inline;\n\twidth: 135px;\n`\n\nexport const OrLabel = styled(Label as any)`\n\tdisplay: inline;\n\tfont-style: italic;\n\tpadding-left: 10px;\n\tpadding-right: 10px;\n\tborder-left: 1px solid ${({ theme }) => theme.palette.neutralTertiaryAlt};\n`\n\nexport const FilterContainer = styled.div`\n\tmargin-top: 8px;\n\tmargin-left: 16px;\n`\n\nexport const BooleanToggle = styled(Toggle as any)`\n\tmargin-top: 5px;\n`\n\nexport const InputLabel = styled.div`\n\twidth: 68px;\n`\n\nexport const Input = styled.div`\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-items: center;\n`\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport {\n\tBooleanComparisonOperator,\n\tDataType,\n\tDateComparisonOperator,\n\tFilterCompareType,\n\tNumericComparisonOperator,\n\tStringComparisonOperator,\n} from '@datashaper/schema'\nimport { EnumDropdown } from '@essex/components'\nimport type { IComboBoxOption, IDropdownOption } from '@fluentui/react'\nimport { IconButton, SpinButton } from '@fluentui/react'\nimport { memo, useCallback, useMemo, useState } from 'react'\n\nimport {\n\tuseColumnNames,\n\tuseSimpleDropdownOptions,\n} from '../../../../hooks/index.js'\nimport {\n\tCalendarPicker,\n\tColumnCriteriaComboBox,\n} from '../../../controls/index.js'\nimport { dropdownStyles, narrowDropdownStyles } from '../../../styles.js'\nimport { InputExplainer, LeftAlignedRow } from '../styles.js'\nimport { useColumnTyping, useIsEmpty } from './FilterFunction.hooks.js'\nimport {\n\tBooleanToggle,\n\tContainer,\n\tFilterContainer,\n\tInput,\n\tInputLabel,\n\tOrLabel,\n\tTextValue,\n} from './FilterFunction.styles.js'\nimport type { FilterFunctionProps } from './FilterFunction.types.js'\n\n/**\n * Just the comparison logic/ops for a filter.\n * Input table and source column is expected to be edited elsewhere and configured as the step input.\n * This is split out from FilterInputs to allow just the comparison logic to be reused elsewhere.\n */\nexport const FilterFunction: React.FC<FilterFunctionProps> = memo(\n\tfunction FilterFunction({ table, column, criterion, onChange }) {\n\t\tconst handleOpChange = useCallback(\n\t\t\t(_e: React.FormEvent<HTMLDivElement>, opt?: IDropdownOption) => {\n\t\t\t\tonChange?.({\n\t\t\t\t\t...criterion,\n\t\t\t\t\toperator: opt?.key as\n\t\t\t\t\t\t| StringComparisonOperator\n\t\t\t\t\t\t| NumericComparisonOperator\n\t\t\t\t\t\t| BooleanComparisonOperator\n\t\t\t\t\t\t| DateComparisonOperator,\n\t\t\t\t})\n\t\t\t},\n\t\t\t[criterion, onChange],\n\t\t)\n\n\t\tconst onSelectDate = useCallback(\n\t\t\t(date: Date): void => {\n\t\t\t\tconst update = {\n\t\t\t\t\t...criterion,\n\t\t\t\t\ttype: FilterCompareType.Value,\n\t\t\t\t\tvalue: date,\n\t\t\t\t}\n\t\t\t\tonChange?.(update)\n\t\t\t\tsetCleanLabel(false)\n\t\t\t},\n\t\t\t[criterion, onChange],\n\t\t)\n\n\t\tconst handleDateComboBoxChange = useCallback(\n\t\t\t(\n\t\t\t\t_e: any,\n\t\t\t\toption: IComboBoxOption | undefined,\n\t\t\t\t_index: number | undefined,\n\t\t\t\tvalue: string | undefined,\n\t\t\t) => {\n\t\t\t\tconst update = {\n\t\t\t\t\t...criterion,\n\t\t\t\t\ttype: FilterCompareType.Column,\n\t\t\t\t\tvalue: option ? option.key : value,\n\t\t\t\t}\n\t\t\t\tonChange?.(update)\n\n\t\t\t\tsetCleanLabel(true)\n\t\t\t},\n\t\t\t[criterion, onChange],\n\t\t)\n\n\t\tconst handleComboBoxChange = useCallback(\n\t\t\t(\n\t\t\t\t_e: any,\n\t\t\t\toption: IComboBoxOption | undefined,\n\t\t\t\t_index: number | undefined,\n\t\t\t\tvalue: string | undefined,\n\t\t\t) => {\n\t\t\t\tconst update = {\n\t\t\t\t\t...criterion,\n\t\t\t\t\ttype: FilterCompareType.Column,\n\t\t\t\t\tvalue: option ? option.key : value,\n\t\t\t\t}\n\t\t\t\tonChange?.(update)\n\t\t\t},\n\t\t\t[criterion, onChange],\n\t\t)\n\n\t\tconst onChangeTextFieldValue = useCallback(\n\t\t\t(\n\t\t\t\t_event: React.FormEvent<HTMLInputElement | HTMLTextAreaElement>,\n\t\t\t\tnewValue?: string,\n\t\t\t) => {\n\t\t\t\tconst update = {\n\t\t\t\t\t...criterion,\n\t\t\t\t\ttype: FilterCompareType.Value,\n\t\t\t\t\tvalue: newValue,\n\t\t\t\t}\n\t\t\t\tonChange?.(update)\n\t\t\t},\n\t\t\t[criterion, onChange],\n\t\t)\n\n\t\tconst spinButtonOnChange = useCallback(\n\t\t\t(_event: React.SyntheticEvent<HTMLElement>, newValue?: string) => {\n\t\t\t\tif (newValue != null) {\n\t\t\t\t\tconst update = {\n\t\t\t\t\t\t...criterion,\n\t\t\t\t\t\ttype: FilterCompareType.Value,\n\t\t\t\t\t\tvalue: newValue,\n\t\t\t\t\t}\n\t\t\t\t\tonChange?.(update)\n\t\t\t\t}\n\t\t\t},\n\t\t\t[criterion, onChange],\n\t\t)\n\n\t\tconst onToggleChange = (\n\t\t\t_ev: React.MouseEvent<HTMLElement>,\n\t\t\tchecked?: boolean,\n\t\t) => {\n\t\t\tconst update = {\n\t\t\t\t...criterion,\n\t\t\t\ttype: FilterCompareType.Value,\n\t\t\t\tvalue: checked,\n\t\t\t}\n\t\t\tonChange?.(update)\n\t\t}\n\n\t\tconst { type, columnFilter } = useColumnTyping(table, column)\n\t\tconst [cleanLabel, setCleanLabel] = useState<boolean>(false)\n\n\t\tconst operatorDropdown = useMemo(() => {\n\t\t\tconst shared = {\n\t\t\t\tlabel: '',\n\t\t\t\tplaceholder: 'Choose',\n\t\t\t\tselectedKey: criterion.operator,\n\t\t\t\tonChange: handleOpChange,\n\t\t\t\tstyles: dropdownStyles,\n\t\t\t}\n\t\t\tif (column) {\n\t\t\t\tif (type === DataType.String) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<EnumDropdown enumeration={StringComparisonOperator} {...shared} />\n\t\t\t\t\t)\n\t\t\t\t} else if (type === DataType.Boolean) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<EnumDropdown enumeration={BooleanComparisonOperator} {...shared} />\n\t\t\t\t\t)\n\t\t\t\t} else if (type === DataType.Date) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<EnumDropdown enumeration={DateComparisonOperator} {...shared} />\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t}\n\t\t\t// map to nicer \"math like\" terse labels for numeric operations\n\t\t\t// (the default will use the friendly enum keys)\n\t\t\tconst labels = {\n\t\t\t\t'=': '=',\n\t\t\t\t'!=': '!=',\n\t\t\t\t'<': '<',\n\t\t\t\t'<=': '<=',\n\t\t\t\t'>': '>',\n\t\t\t\t'>=': '>=',\n\t\t\t}\n\t\t\treturn (\n\t\t\t\t<EnumDropdown\n\t\t\t\t\tenumeration={NumericComparisonOperator}\n\t\t\t\t\t{...shared}\n\t\t\t\t\tlabels={labels}\n\t\t\t\t/>\n\t\t\t)\n\t\t}, [type, column, criterion, handleOpChange])\n\n\t\tconst isEmpty = useIsEmpty(criterion)\n\t\tconst handleDeleteClick = useCallback(() => onChange?.(), [onChange])\n\t\tconst columns = useColumnNames(table, columnFilter)\n\t\tconst columnOptions = useSimpleDropdownOptions(columns)\n\n\t\treturn (\n\t\t\t<Container>\n\t\t\t\t<LeftAlignedRow>\n\t\t\t\t\t{operatorDropdown}\n\t\t\t\t\t<IconButton\n\t\t\t\t\t\ttitle={'Remove this criterion'}\n\t\t\t\t\t\ticonProps={deleteIconProps}\n\t\t\t\t\t\tonClick={handleDeleteClick}\n\t\t\t\t\t/>\n\t\t\t\t</LeftAlignedRow>\n\n\t\t\t\t<FilterContainer>\n\t\t\t\t\t<Input>\n\t\t\t\t\t\t<InputLabel>value</InputLabel>\n\t\t\t\t\t\t{type === DataType.Date ? (\n\t\t\t\t\t\t\t<CalendarPicker\n\t\t\t\t\t\t\t\tonSelectDate={onSelectDate}\n\t\t\t\t\t\t\t\tdisabled={isEmpty}\n\t\t\t\t\t\t\t\tcleanLabel={cleanLabel}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : null}\n\n\t\t\t\t\t\t{type === DataType.String ? (\n\t\t\t\t\t\t\t<TextValue\n\t\t\t\t\t\t\t\tvalue={criterion.value}\n\t\t\t\t\t\t\t\tonChange={onChangeTextFieldValue}\n\t\t\t\t\t\t\t\tdisabled={isEmpty}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : null}\n\n\t\t\t\t\t\t{type === DataType.Number ? (\n\t\t\t\t\t\t\t<SpinButton\n\t\t\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\t\t\tstep={1}\n\t\t\t\t\t\t\t\tvalue={criterion.value}\n\t\t\t\t\t\t\t\tstyles={narrowDropdownStyles}\n\t\t\t\t\t\t\t\tdisabled={isEmpty}\n\t\t\t\t\t\t\t\tonChange={spinButtonOnChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : null}\n\n\t\t\t\t\t\t{type === DataType.Boolean ? (\n\t\t\t\t\t\t\t<BooleanToggle\n\t\t\t\t\t\t\t\tdefaultChecked\n\t\t\t\t\t\t\t\tonText='True'\n\t\t\t\t\t\t\t\toffText='False'\n\t\t\t\t\t\t\t\tonChange={onToggleChange}\n\t\t\t\t\t\t\t\tdisabled={isEmpty}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t</Input>\n\t\t\t\t\t<OrLabel>or</OrLabel>\n\t\t\t\t\t<Input>\n\t\t\t\t\t\t<InputLabel>column</InputLabel>\n\t\t\t\t\t\t{type === DataType.Date ? (\n\t\t\t\t\t\t\t<ColumnCriteriaComboBox\n\t\t\t\t\t\t\t\toptions={columnOptions}\n\t\t\t\t\t\t\t\tonChange={handleDateComboBoxChange}\n\t\t\t\t\t\t\t\tdisabled={isEmpty}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<ColumnCriteriaComboBox\n\t\t\t\t\t\t\t\toptions={columnOptions}\n\t\t\t\t\t\t\t\tonChange={handleComboBoxChange}\n\t\t\t\t\t\t\t\tdisabled={isEmpty}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Input>\n\t\t\t\t</FilterContainer>\n\n\t\t\t\t{type === DataType.String ? (\n\t\t\t\t\t<InputExplainer>\n\t\t\t\t\t\tString comparisons are not case-sensitive\n\t\t\t\t\t</InputExplainer>\n\t\t\t\t) : null}\n\t\t\t</Container>\n\t\t)\n\t},\n)\n\nconst deleteIconProps = { iconName: 'Delete' }\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport styled from '@essex/styled-components'\n\nexport const Container = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: flex-start;\n`\n\nexport const Criteria = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 20px;\n`\nexport const Vertical = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 8px;\n`\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport type { Criterion, FilterArgs } from '@datashaper/schema'\nimport { BooleanOperator } from '@datashaper/schema'\nimport { EnumDropdown } from '@essex/components'\nimport { ActionButton, Label } from '@fluentui/react'\nimport type ColumnTable from 'arquero/dist/types/table/column-table'\nimport { memo, useCallback } from 'react'\n\nimport { EMPTY_ARRAY } from '../../../../empty.js'\nimport {\n\tuseDropdownChangeHandler,\n\tuseStepInputTable,\n} from '../../../../hooks/index.js'\nimport { FilterFunction } from '../shared/index.js'\nimport { LeftAlignedRow } from '../styles.js'\nimport type { StepFormProps } from '../types.js'\nimport { Container, Criteria, Vertical } from './FilterForm.styles.js'\n\n/**\n * Provides inputs for a Filter step.\n */\nexport const FilterForm: React.FC<StepFormProps<FilterArgs>> = memo(\n\tfunction FilterForm({ step, workflow, input, table, onChange }) {\n\t\tconst dataTable = useStepInputTable(step, workflow, input, table)\n\t\tconst handleButtonClick = useCallback(() => {\n\t\t\tonChange?.({\n\t\t\t\t...step,\n\t\t\t\targs: {\n\t\t\t\t\t...step.args,\n\t\t\t\t\tcriteria: [...(step.args.criteria || EMPTY_ARRAY), {} as Criterion],\n\t\t\t\t},\n\t\t\t})\n\t\t}, [step, onChange])\n\n\t\tconst handleFilterChange = useCallback(\n\t\t\t(criterion: Criterion | undefined, index: number) => {\n\t\t\t\tconst criteria = [...step.args.criteria]\n\t\t\t\tif (criterion == null) {\n\t\t\t\t\tcriteria.splice(index, 1)\n\t\t\t\t} else {\n\t\t\t\t\tcriteria[index] = criterion\n\t\t\t\t}\n\t\t\t\tonChange?.({\n\t\t\t\t\t...step,\n\t\t\t\t\targs: {\n\t\t\t\t\t\t...step.args,\n\t\t\t\t\t\tcriteria,\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t},\n\t\t\t[step, onChange],\n\t\t)\n\n\t\tconst handleLogicalChange = useDropdownChangeHandler(\n\t\t\tstep,\n\t\t\t(s, val) => {\n\t\t\t\ts.args.logical = val as BooleanOperator\n\t\t\t},\n\t\t\tonChange,\n\t\t)\n\t\tconst filters = useFilters(\n\t\t\tdataTable,\n\t\t\tstep.args.column,\n\t\t\tstep.args.criteria,\n\t\t\thandleFilterChange,\n\t\t)\n\n\t\treturn (\n\t\t\t<Container>\n\t\t\t\t<Label>Function</Label>\n\t\t\t\t<Criteria>{filters}</Criteria>\n\t\t\t\t<ActionButton\n\t\t\t\t\tonClick={handleButtonClick}\n\t\t\t\t\ticonProps={addIconProps}\n\t\t\t\t\tdisabled={!dataTable}\n\t\t\t\t>\n\t\t\t\t\tAdd criteria\n\t\t\t\t</ActionButton>\n\t\t\t\t{step.args.criteria.length > 1 ? (\n\t\t\t\t\t<LeftAlignedRow>\n\t\t\t\t\t\t<EnumDropdown\n\t\t\t\t\t\t\tlabel={'Logical combination'}\n\t\t\t\t\t\t\tplaceholder={'Choose boolean'}\n\t\t\t\t\t\t\tenumeration={BooleanOperator}\n\t\t\t\t\t\t\tlabels={{\n\t\t\t\t\t\t\t\tor: 'OR',\n\t\t\t\t\t\t\t\tand: 'AND',\n\t\t\t\t\t\t\t\tnor: 'NOR',\n\t\t\t\t\t\t\t\tnand: 'NAND',\n\t\t\t\t\t\t\t\txor: 'XOR',\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tselectedKey={step.args.logical}\n\t\t\t\t\t\t\tonChange={handleLogicalChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</LeftAlignedRow>\n\t\t\t\t) : null}\n\t\t\t</Container>\n\t\t)\n\t},\n)\n\nfunction useFilters(\n\ttable: ColumnTable | undefined,\n\tcolumn: string,\n\tcriteria: Criterion[],\n\tonChange: any,\n) {\n\tif (!table) {\n\t\treturn null\n\t}\n\n\treturn criteria.map((criterion, index) => {\n\t\tconst handleChange = (f?: Criterion) => onChange(f, index)\n\t\treturn (\n\t\t\t<Vertical key={`filter-function-${index}`}>\n\t\t\t\t<FilterFunction\n\t\t\t\t\ttable={table}\n\t\t\t\t\tcolumn={column}\n\t\t\t\t\tcriterion={criterion}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t/>\n\t\t\t</Vertical>\n\t\t)\n\t})\n}\n\nconst addIconProps = { iconName: 'Add' }\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport styled from '@essex/styled-components'\n\nexport const icons = {\n\tadd: { iconName: 'Add' },\n\tdelete: { iconName: 'Delete' },\n}\n\nexport const Container = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n`\n\nexport const Tables = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 5px;\n`\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport type { Step, Workflow } from '@datashaper/workflow'\nimport { IconButton } from '@fluentui/react'\nimport { useMemo } from 'react'\n\nimport { useTableDropdownOptions } from '../../../../hooks/index.js'\nimport { TableDropdown } from '../../../controls/index.js'\nimport { LeftAlignedRow } from '../styles.js'\nimport { icons } from './SetOperationForm.styles.js'\n\nexport function useOthers(\n\tstep: Step,\n\tonChange?: (step: Step) => void,\n\tstore?: Workflow,\n): (JSX.Element | null)[] {\n\tconst tableOptions = useTableDropdownOptions(store)\n\treturn useMemo<(JSX.Element | null)[]>(() => {\n\t\treturn (step.input.others || EMPTY).map((input, index) => {\n\t\t\t// on delete, remove the input\n\t\t\tconst handleDeleteClick = () => {\n\t\t\t\tonChange?.({\n\t\t\t\t\t...step,\n\t\t\t\t\tinput: {\n\t\t\t\t\t\t...step.input,\n\t\t\t\t\t\tothers: (step.input.others || EMPTY).filter((o) => o !== input),\n\t\t\t\t\t} as Step['input'],\n\t\t\t\t})\n\t\t\t}\n\t\t\tif (!store) {\n\t\t\t\treturn null\n\t\t\t}\n\t\t\treturn (\n\t\t\t\t<LeftAlignedRow key={`set-op-${input}-${index}`}>\n\t\t\t\t\t<TableDropdown\n\t\t\t\t\t\tlabel={''}\n\t\t\t\t\t\toptions={tableOptions}\n\t\t\t\t\t\tselectedKey={input}\n\t\t\t\t\t\tonChange={(_evt, option) => {\n\t\t\t\t\t\t\tconst update = { ...step }\n\t\t\t\t\t\t\tif (option) {\n\t\t\t\t\t\t\t\tinput.node = `${option.key}`\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tonChange?.(update)\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<IconButton\n\t\t\t\t\t\ttitle={'Remove this table'}\n\t\t\t\t\t\ticonProps={icons.delete}\n\t\t\t\t\t\tonClick={handleDeleteClick}\n\t\t\t\t\t/>\n\t\t\t\t</LeftAlignedRow>\n\t\t\t)\n\t\t})\n\t}, [step, store, tableOptions, onChange])\n}\n\nconst EMPTY: any[] = []\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport styled from '@essex/styled-components'\n\nexport const Container = styled.div`\n\tdisplay: flex;\n\tjustify-content: flex-start;\n`\n\nexport const icons = {\n\tdelete: { iconName: 'Delete' },\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport styled from '@essex/styled-components'\n\nexport const Container = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n`\n\nexport const Sorts = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 5px;\n`\n\nexport const icons = {\n\tadd: { iconName: 'Add' },\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport type { RecodeArgs, Value } from '@datashaper/schema'\nimport { DataType } from '@datashaper/schema'\nimport styled from '@essex/styled-components'\nimport { ActionButton } from '@fluentui/react'\nimport { memo, useCallback } from 'react'\n\nimport { useMappingPairs } from '../../../../hooks/controls/useMappingPairs.js'\nimport {\n\tuseColumnType,\n\tuseHandleDelete,\n\tuseHandleKeyChange,\n\tuseHandleValueChange,\n\tuseStepInputTable,\n} from '../../../../hooks/index.js'\nimport type { StepFormProps } from '../types.js'\nimport {\n\tuseColumnValues,\n\tuseDisabled,\n\tuseHandleAddButtonClick,\n} from './RecodeForm.hooks.js'\n\n/**\n * Provides inputs for a RecodeStep.\n */\nexport const RecodeForm: React.FC<StepFormProps<RecodeArgs>> = memo(\n\tfunction RecodeForm({ step, workflow, input, table, onChange }) {\n\t\tconst dataTable = useStepInputTable(step, workflow, input, table)\n\t\tconst dataType = useColumnType(dataTable, step.args.column)\n\t\tconst initialValues = useColumnValues(step, dataTable)\n\t\tconst values =\n\t\t\tdataType === DataType.Date\n\t\t\t\t? initialValues.map((e) => e.toISOString())\n\t\t\t\t: initialValues\n\n\t\tconst onUpdateMapping = useCallback(\n\t\t\t(mapping: Record<Value, Value>) => {\n\t\t\t\tonChange?.({\n\t\t\t\t\t...step,\n\t\t\t\t\targs: {\n\t\t\t\t\t\t...step.args,\n\t\t\t\t\t\tmapping,\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t},\n\t\t\t[onChange, step],\n\t\t)\n\n\t\tconst handleRecodeKeyChange = useHandleKeyChange(\n\t\t\tstep.args.mapping,\n\t\t\tonUpdateMapping,\n\t\t)\n\t\tconst handleRecodeValueChange = useHandleValueChange(\n\t\t\tstep.args.mapping,\n\t\t\tdataType,\n\t\t\tonUpdateMapping,\n\t\t)\n\t\tconst handleRecodeDelete = useHandleDelete(\n\t\t\tstep.args.mapping,\n\t\t\tonUpdateMapping,\n\t\t)\n\t\tconst handleButtonClick = useHandleAddButtonClick(step, values, onChange)\n\n\t\tconst columnPairs = useMappingPairs(\n\t\t\tstep.args.mapping,\n\t\t\tdataType,\n\t\t\thandleRecodeKeyChange,\n\t\t\thandleRecodeValueChange,\n\t\t\thandleRecodeDelete,\n\t\t)\n\n\t\tconst disabled = useDisabled(step, values)\n\n\t\treturn (\n\t\t\t<Container>\n\t\t\t\t<ColumnPairs>{columnPairs}</ColumnPairs>\n\t\t\t\t<ActionButton\n\t\t\t\t\tonClick={handleButtonClick}\n\t\t\t\t\ticonProps={addIconProps}\n\t\t\t\t\tdisabled={disabled}\n\t\t\t\t>\n\t\t\t\t\tAdd mapping\n\t\t\t\t</ActionButton>\n\t\t\t</Container>\n\t\t)\n\t},\n)\n\nconst Container = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n`\nconst ColumnPairs = styled.div`\n\tmargin-top: 8px;\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 5px;\n`\n\nconst addIconProps = { iconName: 'Add' }\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport type { RenameArgs } from '@datashaper/schema'\nimport type { Step } from '@datashaper/workflow'\nimport styled from '@essex/styled-components'\nimport type { IDropdownOption } from '@fluentui/react'\nimport {\n\tActionButton,\n\tIcon,\n\tIconButton,\n\tLabel,\n\tTextField,\n} from '@fluentui/react'\nimport type ColumnTable from 'arquero/dist/types/table/column-table'\nimport { memo, useMemo } from 'react'\n\nimport { EMPTY_OBJECT } from '../../../../empty.js'\nimport {\n\tuseColumnNames,\n\tuseOnDeleteStepColumn,\n\tuseSimpleDropdownOptions,\n\tuseStepInputTable,\n} from '../../../../hooks/index.js'\nimport { TableColumnDropdown } from '../../../controls/index.js'\nimport { narrowerDropdownStyles } from '../styles.js'\nimport type { StepFormProps } from '../types.js'\nimport {\n\tuseDisabled,\n\tuseHandleAddButtonClick,\n\tuseHandleColumnChange,\n} from './RenameForm.hooks.js'\n\n/**\n * Provides inputs for a RenameStep.\n */\nexport const RenameForm: React.FC<StepFormProps<RenameArgs>> = memo(\n\tfunction RenameForm({ step, workflow, input, table, onChange }) {\n\t\tconst dataTable = useStepInputTable(step, workflow, input, table)\n\t\tconst handleColumnChange = useHandleColumnChange(step, onChange)\n\t\tconst handleColumnDelete = useOnDeleteStepColumn(step, onChange)\n\t\tconst handleButtonClick = useHandleAddButtonClick(step, dataTable, onChange)\n\t\tconst columnPairs = useColumnPairs(\n\t\t\tdataTable,\n\t\t\tstep,\n\t\t\thandleColumnChange,\n\t\t\thandleColumnDelete,\n\t\t)\n\t\tconst disabled = useDisabled(step, dataTable)\n\n\t\treturn (\n\t\t\t<Container>\n\t\t\t\t<Label required>Column renames</Label>\n\t\t\t\t<ColumnPairs>{columnPairs}</ColumnPairs>\n\t\t\t\t<ActionButton\n\t\t\t\t\tonClick={handleButtonClick}\n\t\t\t\t\ticonProps={addIconProps}\n\t\t\t\t\tdisabled={disabled}\n\t\t\t\t>\n\t\t\t\t\tAdd rename\n\t\t\t\t</ActionButton>\n\t\t\t</Container>\n\t\t)\n\t},\n)\n\nfunction useColumnPairs(\n\ttable: ColumnTable | undefined,\n\tstep: Step<RenameArgs>,\n\tonChange: (previous: string, oldName: string, newName: string) => void,\n\tonDelete: (name: string) => void,\n) {\n\treturn useMemo(() => {\n\t\tconst { columns } = step.args\n\t\treturn Object.entries(columns || EMPTY_OBJECT).map((column, index) => {\n\t\t\tconst [oldname] = column\n\t\t\treturn (\n\t\t\t\t<ColumnPair\n\t\t\t\t\tkey={`column-rename-${oldname}-${index}`}\n\t\t\t\t\ttable={table}\n\t\t\t\t\tcolumn={column}\n\t\t\t\t\tstep={step}\n\t\t\t\t\tonChange={onChange}\n\t\t\t\t\tonDelete={onDelete}\n\t\t\t\t/>\n\t\t\t)\n\t\t})\n\t}, [table, step, onChange, onDelete])\n}\n\nconst ColumnPair: React.FC<{\n\ttable: ColumnTable | undefined\n\tcolumn: [string, string]\n\tstep: Step<RenameArgs>\n\tonChange: (previous: string, oldName: string, newName: string) => void\n\tonDelete: (name: string) => void\n}> = memo(function ColumnPair({ table, column, step, onChange, onDelete }) {\n\tconst [oldname, newname] = column\n\tconst columnFilter = (name: string) => {\n\t\tif (name === oldname) {\n\t\t\treturn true\n\t\t}\n\t\tif (step.args.columns?.[name]) {\n\t\t\treturn false\n\t\t}\n\t\treturn true\n\t}\n\tconst handleColumnChange = (\n\t\t_e: React.FormEvent<HTMLDivElement>,\n\t\topt?: IDropdownOption<any> | undefined,\n\t) => onChange(oldname, (opt?.key as string) || oldname, newname)\n\tconst handleTextChange = (\n\t\t_e: React.FormEvent<HTMLInputElement | HTMLTextAreaElement>,\n\t\tnewValue?: string,\n\t) => {\n\t\tonChange(oldname, oldname, newValue ?? '')\n\t}\n\tconst handleDeleteClick = () => onDelete(oldname)\n\tconst columns = useColumnNames(table, columnFilter)\n\tconst options = useSimpleDropdownOptions(columns)\n\n\treturn (\n\t\t<ColumnPairContainer>\n\t\t\t<TableColumnDropdown\n\t\t\t\toptions={options}\n\t\t\t\tlabel={undefined}\n\t\t\t\tselectedKey={oldname}\n\t\t\t\tonChange={handleColumnChange}\n\t\t\t\tstyles={narrowerDropdownStyles}\n\t\t\t/>\n\t\t\t<Icon\n\t\t\t\ticonName={'Forward'}\n\t\t\t\tstyles={{ root: { marginLeft: 4, marginRight: 4 } }}\n\t\t\t/>\n\t\t\t<TextField\n\t\t\t\tplaceholder={'New name'}\n\t\t\t\tvalue={newname}\n\t\t\t\tonChange={handleTextChange}\n\t\t\t\tstyles={narrowerDropdownStyles}\n\t\t\t/>\n\t\t\t<IconButton\n\t\t\t\ttitle={'Remove this rename'}\n\t\t\t\ticonProps={deleteIconProps}\n\t\t\t\tonClick={handleDeleteClick}\n\t\t\t/>\n\t\t</ColumnPairContainer>\n\t)\n})\n\nconst Container = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n`\n\nconst ColumnPairs = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 5px;\n`\n\nconst ColumnPairContainer = styled.div`\n\tdisplay: flex;\n\tjustify-content: flex-start;\n\talign-items: center;\n`\n\nconst addIconProps = { iconName: 'Add' }\nconst deleteIconProps = { iconName: 'Delete' }\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport styled from '@essex/styled-components'\nimport { Label } from '@fluentui/react'\n\nexport const Container = styled.div`\n\tmargin-top: 8px;\n\tmargin-left: 16px;\n`\n\nexport const Input = styled.div`\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-items: center;\n`\n\nexport const InputLabel = styled.div`\n\twidth: 84px;\n`\n\nexport const OrLabel = styled(Label as any)`\n\tdisplay: inline;\n\tfont-style: italic;\n\tpadding-left: 10px;\n\tpadding-right: 10px;\n\tborder-left: 1px solid ${({ theme }) => theme.palette.neutralTertiaryAlt};\n`\n\nexport const spinStyles = {\n\troot: {\n\t\twidth: 120,\n\t},\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport type {\n\tInputColumnArgs,\n\tInputColumnListArgs,\n\tOutputColumnArgs,\n} from '@datashaper/schema'\nimport {\n\tisInputColumnListStep,\n\tisInputColumnStep,\n\tisOutputColumnStep,\n\tNodeInput,\n} from '@datashaper/workflow'\nimport { MultiDropdown } from '@essex/components'\nimport { TextField } from '@fluentui/react'\nimport { memo } from 'react'\n\nimport { useColumnNames } from '../../hooks/columns/useColumnNames.js'\nimport { useSimpleDropdownOptions } from '../../hooks/fluent/useSimpleDropdownOptions.js'\nimport { useWorkflowDataTable } from '../../hooks/index.js'\nimport { TableColumnDropdown } from '../controls/TableColumnDropdown/TableColumnDropdown.js'\nimport { dropdownStyles } from '../styles.js'\nimport {\n\tgetSimpleDropdownOptions,\n\tuseColumnFilter,\n\tuseDefaultOutputNameInitially,\n\tuseInputColumnChanged,\n\tuseInputColumnListAllChanged,\n\tuseInputColumnListChanged,\n\tuseOutputColumnChanged,\n\tuseStepArgsComponent,\n\tuseStepChangeHandler,\n} from './StepForm.hooks.js'\nimport { Container } from './StepForm.styles.js'\nimport type { StepFormProps } from './StepForm.types.js'\n\n/**\n * Let's us render the Steps in a loop while memoing all the functions\n */\nexport const StepForm: React.FC<StepFormProps> = memo(function StepForm({\n\tstep: s,\n\toutput,\n\tworkflow: g,\n\tmetadata,\n\tindex,\n\tonChange,\n\tonChangeOutput: changeOutput,\n\thideInputColumn,\n}) {\n\t/* Current Table Selection */\n\tconst tableId = s.input[NodeInput.Source]\n\tconst table = useWorkflowDataTable(tableId, g)\n\n\t/* Column Options */\n\tconst columns = useColumnNames(table, useColumnFilter(s, table))\n\tconst columnOptions = useSimpleDropdownOptions(columns)\n\n\t/* The step args component */\n\tconst StepArgs = useStepArgsComponent(s)\n\n\t/* Change Events */\n\tconst change = useStepChangeHandler(index, onChange)\n\tconst onInputColumnChange = useInputColumnChanged(s, change, table)\n\tconst onInputColumnListChange = useInputColumnListChanged(s, change)\n\tconst onInputColumnListChangeAll = useInputColumnListAllChanged(s, change)\n\tconst onOutputColumnChange = useOutputColumnChanged(s, change)\n\n\t/* Side Effects */\n\tuseDefaultOutputNameInitially(s, output, changeOutput)\n\n\treturn StepArgs == null ? null : (\n\t\t<Container className='step-component'>\n\t\t\t{/* Input Column List */}\n\t\t\t{isInputColumnListStep(s) ? (\n\t\t\t\t<MultiDropdown\n\t\t\t\t\trequired={true}\n\t\t\t\t\tlabel={'Columns'}\n\t\t\t\t\tplaceholder={'Choose columns'}\n\t\t\t\t\tstyles={dropdownStyles}\n\t\t\t\t\tselectedKeys={(s.args as InputColumnListArgs).columns}\n\t\t\t\t\toptions={getSimpleDropdownOptions(columns)}\n\t\t\t\t\tonChange={onInputColumnListChange}\n\t\t\t\t\tonChangeAll={onInputColumnListChangeAll}\n\t\t\t\t/>\n\t\t\t) : null}\n\n\t\t\t{/* Input Column */}\n\t\t\t{!hideInputColumn && isInputColumnStep(s) ? (\n\t\t\t\t<TableColumnDropdown\n\t\t\t\t\trequired\n\t\t\t\t\toptions={columnOptions}\n\t\t\t\t\tlabel={`Column to ${s.verb}`}\n\t\t\t\t\tselectedKey={(s.args as InputColumnArgs).column}\n\t\t\t\t\tonChange={onInputColumnChange}\n\t\t\t\t/>\n\t\t\t) : null}\n\n\t\t\t<StepArgs\n\t\t\t\tstep={s}\n\t\t\t\tworkflow={g}\n\t\t\t\tmetadata={metadata}\n\t\t\t\toutput={output}\n\t\t\t\tonChangeOutput={changeOutput}\n\t\t\t\tonChange={change}\n\t\t\t/>\n\n\t\t\t{/* Output Column */}\n\t\t\t{isOutputColumnStep(s) ? (\n\t\t\t\t<TextField\n\t\t\t\t\trequired\n\t\t\t\t\tlabel={'New column name'}\n\t\t\t\t\tplaceholder={'Column name'}\n\t\t\t\t\tvalue={(s.args as OutputColumnArgs).to}\n\t\t\t\t\tstyles={dropdownStyles}\n\t\t\t\t\tonChange={onOutputColumnChange}\n\t\t\t\t/>\n\t\t\t) : null}\n\t\t</Container>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport styled from '@essex/styled-components'\nimport type {\n\tIModalStyleProps,\n\tIModalStyles,\n\tIStyleFunctionOrObject,\n} from '@fluentui/react'\nimport { useTheme } from '@fluentui/react'\nimport merge from 'lodash-es/merge.js'\nimport { useMemo } from 'react'\n\nexport const icons = {\n\tsave: { iconName: 'CheckMark' },\n\tdelete: { iconName: 'Delete' },\n}\n\nexport const Container = styled.div`\n\tdisplay: flex;\n\talign-items: flex-start;\n\tflex-direction: column;\n\toverflow: auto;\n\tborder: none;\n\twidth: auto;\n\t// extra padding on left leaves room for \"overhanging\" delete buttons\n\t// while still allowing the primary content to remain centered\n\tpadding-left: 32px;\n`\n\nexport const Actions = styled.div`\n\tpadding-right: 32px;\n\tmargin-top: 10px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tgap: 12px;\n\twidth: 100%;\n`\n\nexport function useModalStyles(\n\tstyles?: IStyleFunctionOrObject<IModalStyleProps, IModalStyles>,\n): IStyleFunctionOrObject<IModalStyleProps, IModalStyles> {\n\tconst theme = useTheme()\n\treturn useMemo(\n\t\t() =>\n\t\t\tmerge(\n\t\t\t\t{\n\t\t\t\t\troot: {\n\t\t\t\t\t\tborder: `1px solid ${theme.palette.neutralLighter}`,\n\t\t\t\t\t\twidth: 'fit-content',\n\t\t\t\t\t\tmaxHeight: 580,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tstyles,\n\t\t\t),\n\t\t[theme, styles],\n\t)\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport type { Step } from '@datashaper/workflow'\nimport { memo, useState } from 'react'\n\nimport { EMPTY_OBJECT } from '../../empty.js'\nimport { Action } from '../controls/index.js'\nimport { StepForm } from '../StepForm/StepForm.js'\nimport {\n\tuseHandleSaveClick,\n\tuseStepOutputHandling,\n} from './StepEditor.hooks.js'\nimport { Actions, Container, icons } from './StepEditor.styles.js'\nimport type { StepEditorProps } from './StepEditor.types.js'\n\nexport const StepEditor: React.FC<StepEditorProps> = memo(function StepEditor({\n\tworkflow,\n\tonSave: execSave,\n\tmetadata,\n\tindex,\n\tstep,\n\tstyle = EMPTY_OBJECT,\n\tonDelete,\n\thideInputColumn,\n}) {\n\tconst [internal, setInternal] = useState<Step | undefined>(step)\n\tconst { output, onOutputChanged } = useStepOutputHandling(workflow, step)\n\tconst onSave = useHandleSaveClick(internal, execSave)\n\treturn (\n\t\t<Container style={style}>\n\t\t\t{internal && (\n\t\t\t\t<>\n\t\t\t\t\t<StepForm\n\t\t\t\t\t\tstep={internal}\n\t\t\t\t\t\tworkflow={workflow}\n\t\t\t\t\t\tmetadata={metadata}\n\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\toutput={output}\n\t\t\t\t\t\thideInputColumn={hideInputColumn}\n\t\t\t\t\t\tonChange={setInternal}\n\t\t\t\t\t\tonChangeOutput={onOutputChanged}\n\t\t\t\t\t/>\n\t\t\t\t\t<Actions>\n\t\t\t\t\t\t<Action onClick={onSave} iconProps={icons.save}>\n\t\t\t\t\t\t\tSave\n\t\t\t\t\t\t</Action>\n\t\t\t\t\t\t<Action onClick={onDelete} iconProps={icons.delete}>\n\t\t\t\t\t\t\tDelete\n\t\t\t\t\t\t</Action>\n\t\t\t\t\t</Actions>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</Container>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */ import styled from '@essex/styled-components';\nimport { useTheme } from '@fluentui/react';\nimport Markdown from 'markdown-to-jsx';\nimport { useMemo } from 'react';\nexport const Container = styled.div`\n    overflow-y: auto;\n    height: 100%;\n    width: 100%;\n`;\nexport const Navigation = styled.div`\n    float: right;\n`;\nexport const MarkdownContainer = styled(Markdown)`\n    *:first-child {\n        margin-top: 0;\n    }\n    \n    h1 {\n        text-transform: uppercase;\n        color: ${({ theme  })=>theme.palette.neutralTertiary};\n    }\n\n    h2 {\n        color: ${({ theme  })=>theme.palette.neutralTertiary};\n    }\n\n    table {\n        border-collapse: collapse;\n\n        th {\n            font-weight: bold;\n        }\n\n        td,\n        th {\n            border: 1px solid ${({ theme  })=>theme.palette.neutralTertiaryAlt};\n            padding: 5px;\n            text-align: center;\n        }\n    }\n`;\nexport function useIconButtonStyles() {\n    const theme = useTheme();\n    return useMemo(()=>({\n            root: {\n                color: theme.palette.neutralPrimaryAlt\n            },\n            rootDisabled: {\n                backgroundColor: 'none'\n            }\n        }), [\n        theme\n    ]);\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */ import merge from 'lodash-es/merge.js';\nimport { useCallback, useEffect, useMemo, useState } from 'react';\nimport { useIconButtonStyles } from './MarkdownBrowser.styles.js';\nexport function useHistory(home) {\n    const [stack, setStack] = useState([]);\n    // reset the stack and go to the original\n    const goHome = useCallback(()=>setStack(home ? [\n            home\n        ] : []), [\n        home\n    ]);\n    const goBack = useCallback(()=>setStack((prev)=>prev.length > 1 ? prev.slice(0, -1) : prev), []);\n    const goForward = useCallback((to)=>setStack((prev)=>[\n                ...prev,\n                to\n            ]), []);\n    useEffect(()=>setStack(home ? [\n            home\n        ] : []), [\n        home\n    ]);\n    return {\n        current: stack[stack.length - 1],\n        goHome: stack.length > 1 ? goHome : undefined,\n        goBack: stack.length > 1 ? goBack : undefined,\n        goForward\n    };\n}\n/**\n * Override link click behavior to intercept relative links.\n * @param container\n * @param goForward\n * @param current\n */ export function useLinkNavigation(parent, href, goForward) {\n    return useCallback((event)=>{\n        event.preventDefault();\n        // if the link is not relative, open in a new window\n        if (isExternalLink(href)) {\n            return window.open(href, '_blank');\n        }\n        // otherwise, navigate to the relative link\n        const name = parseRelativePath(href, parent);\n        if (name) {\n            goForward(name);\n        }\n    }, [\n        parent,\n        href,\n        goForward\n    ]);\n}\nexport function useIconButtonProps(iconName, onClick, overrides) {\n    const styles = useIconButtonStyles();\n    return useMemo(()=>{\n        return merge({\n            disabled: !onClick,\n            styles,\n            iconProps: {\n                iconName\n            },\n            ariaLabel: iconName,\n            onClick\n        }, overrides);\n    }, [\n        styles,\n        iconName,\n        onClick,\n        overrides\n    ]);\n}\n/**\n * Construct the props for an icon\n * specific to external links.\n * @param url\n */ export function useLinkIconProps(url) {\n    return useMemo(()=>({\n            styles: {\n                root: {\n                    marginLeft: 2,\n                    fontSize: '0.8em',\n                    width: '0.8em',\n                    height: '0.8em'\n                }\n            },\n            iconName: 'NavigateExternalInline',\n            // we have to provide separate click handling for the icon\n            onClick: ()=>window.open(url, '_blank')\n        }), [\n        url\n    ]);\n}\n// We have to do a little housekeeping on the paths to navigate relative content\n// The content must use \".\" to separate paths in order to be JS-compliant,\n// we want to look for nested paths and align them with the parent\n// to ensure the entire structure remains intact as a key into the content index\nfunction parseRelativePath(path, parent) {\n    const relative = path.replace(window.location.origin, '').replace(/.md/, '');\n    const parts = relative.split('/');\n    const parentParts = parent.split(/\\./g);\n    // sibling, push it into the same \"folder\"\n    if (parts[0] === '.') {\n        return [\n            ...parentParts.slice(0, parentParts.length - 1),\n            ...parts.slice(1)\n        ].join('.');\n    }\n    // if it's nested deeper, slice out the correct number of levels\n    const levels = parts.filter((p)=>p === '..').length;\n    if (levels > 0) {\n        return [\n            ...parentParts.slice(0, parentParts.length - (levels + 1)),\n            ...parts.slice(levels)\n        ].join('.');\n    }\n    // fallback for unaccounted for path structures\n    return relative.replace(/\\//g, '.');\n}\n/**\n * Relative paths should either include the origin or have no protocol.\n * @param url\n * @returns\n */ export function isExternalLink(url) {\n    if (url.includes(':')) {\n        return !url.includes(window.location.origin);\n    }\n    return false;\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport styled from '@essex/styled-components'\n\nconst MAX_HEIGHT = 700\n\nexport const Container = styled.div`\n\twidth: 400px;\n\tmax-height: ${MAX_HEIGHT - 20}px;\n\toverflow: hidden auto;\n\tpadding: 4px 12px 12px 8px;\n`\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport { MarkdownBrowser } from '@essex/components'\nimport { memo } from 'react'\n\nimport { useGuidanceContent } from './GuidanceExpansion.hooks.js'\nimport { Container } from './GuidanceExpansion.styles.js'\nimport type { GuidanceExpansionProps } from './GuidanceExpansion.types.js'\n\nexport const GuidanceExpansion: React.FC<GuidanceExpansionProps> = memo(\n\tfunction GuidanceExpansion({ verb }) {\n\t\tconst content = useGuidanceContent()\n\t\treturn verb ? (\n\t\t\t<Container>\n\t\t\t\t<MarkdownBrowser home={verb} content={content} />\n\t\t\t</Container>\n\t\t) : null\n\t},\n)\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport styled from '@essex/styled-components'\nimport type { IIconProps } from '@fluentui/react'\nimport { useTheme } from '@fluentui/react'\nimport { useMemo } from 'react'\n\nconst MAX_HEIGHT = 700\n\nexport const ContainerBody = styled.div`\n\tpadding: 0;\n\tdisplay: flex;\n\tjustify-content: flex-start;\n\tgap: 12px;\n`\n\nexport const Header = styled.div`\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tbackground: ${({ theme }) => theme.palette.neutralLighter};\n`\n\nexport const Title = styled.h3`\n\tpadding-left: 12px;\n\tmargin: 8px 0 8px 0;\n`\n\nexport const HeaderButtons = styled.div`\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\talign-items: center;\n`\n\nexport const StepComponentContainer = styled.div`\n\tmax-height: ${MAX_HEIGHT}px;\n\toverflow: hidden auto;\n\twidth: 284px;\n`\n\nexport const GuidanceContainer = styled.div`\n\twidth: 400px;\n\tmax-height: ${MAX_HEIGHT - 20}px;\n\toverflow: hidden auto;\n`\n\nexport function useIconProps(): Record<string, IIconProps> {\n\tconst theme = useTheme()\n\treturn useMemo(\n\t\t() => ({\n\t\t\tcancel: {\n\t\t\t\ticonName: 'Cancel',\n\t\t\t\tstyles: {\n\t\t\t\t\troot: {\n\t\t\t\t\t\tcolor: theme.palette.neutralPrimary,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\thelp: {\n\t\t\t\ticonName: 'Help',\n\t\t\t\tstyles: {\n\t\t\t\t\troot: {\n\t\t\t\t\t\tcolor: theme.palette.neutralPrimary,\n\t\t\t\t\t\tfontSize: 12,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t}),\n\t\t[theme],\n\t)\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { Callout, DirectionalHint, IconButton } from '@fluentui/react'\nimport { useBoolean } from '@fluentui/react-hooks'\nimport { memo } from 'react'\n\nimport { StepEditor } from '../StepEditor/StepEditor.js'\nimport { useModalStyles } from '../StepEditor/StepEditor.styles.js'\nimport { GuidanceExpansion } from './GuidanceExpansion.js'\nimport { useTitle } from './StepEditorModal.hooks.js'\nimport {\n\tContainerBody,\n\tHeader,\n\tHeaderButtons,\n\tStepComponentContainer,\n\tTitle,\n\tuseIconProps,\n} from './StepEditorModal.styles.js'\nimport type { StepEditorModalProps } from './StepEditorModal.types.js'\n\nexport const StepEditorModal: React.FC<StepEditorModalProps> = memo(\n\tfunction StepEditorModal({\n\t\tonDismiss,\n\t\tworkflow,\n\t\tmetadata,\n\t\tonSave,\n\t\tindex,\n\t\tstep,\n\t\tstyles,\n\t\t...props\n\t}) {\n\t\tconst [showGuidance, { toggle: toggleGuidance }] = useBoolean(false)\n\t\tconst adaptedStyles = useModalStyles(styles)\n\t\tconst title = useTitle(step)\n\t\tconst icons = useIconProps()\n\t\treturn (\n\t\t\t<Callout\n\t\t\t\tstyles={adaptedStyles}\n\t\t\t\tdirectionalHint={DirectionalHint.rightBottomEdge}\n\t\t\t\t{...props}\n\t\t\t>\n\t\t\t\t<Header>\n\t\t\t\t\t<Title>{title}</Title>\n\t\t\t\t\t<HeaderButtons>\n\t\t\t\t\t\t{step?.verb ? (\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\tonClick={toggleGuidance}\n\t\t\t\t\t\t\t\ticonProps={icons['help']}\n\t\t\t\t\t\t\t\tariaLabel='Expand verb guidance'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tonClick={onDismiss}\n\t\t\t\t\t\t\ticonProps={icons['cancel']}\n\t\t\t\t\t\t\tariaLabel='Close verb creation modal'\n\t\t\t\t\t\t/>\n\t\t\t\t\t</HeaderButtons>\n\t\t\t\t</Header>\n\t\t\t\t<ContainerBody>\n\t\t\t\t\t<StepComponentContainer>\n\t\t\t\t\t\t<StepEditor\n\t\t\t\t\t\t\thideInputColumn\n\t\t\t\t\t\t\tworkflow={workflow}\n\t\t\t\t\t\t\tmetadata={metadata}\n\t\t\t\t\t\t\tonSave={onSave}\n\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\tstep={step}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</StepComponentContainer>\n\t\t\t\t\t{showGuidance && <GuidanceExpansion verb={step?.verb} />}\n\t\t\t\t</ContainerBody>\n\t\t\t</Callout>\n\t\t)\n\t},\n)\n","/**\n * {@docCategory Dialog}\n */\nexport var DialogType;\n(function (DialogType) {\n    /** Standard dialog */\n    DialogType[DialogType[\"normal\"] = 0] = \"normal\";\n    /** Dialog with large header banner */\n    DialogType[DialogType[\"largeHeader\"] = 1] = \"largeHeader\";\n    /** Dialog with an 'x' close button in the upper-right corner */\n    DialogType[DialogType[\"close\"] = 2] = \"close\";\n})(DialogType || (DialogType = {}));\n//# sourceMappingURL=DialogContent.types.js.map","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport styled from '@essex/styled-components'\n\n// TODO: this calc is because the CollapsiblePanel doesn't flex properly to constrain the width.\n// so the total width ends up offset by the width of the chevron\nexport const Container = styled.div`\n\twidth: calc(100% - 24px);\n\tdisplay: flex;\n\tgap: 4px;\n\talign-items: center;\n\tjustify-content: flex-start;\n`\n\nexport const Index = styled.div`\n\tcolor: ${({ theme }) => theme.palette.neutralTertiaryAlt};\n\tfont-size: 12px;\n\ttext-align: right;\n\tmin-width: 20px;\n`\n\nexport const Verb = styled.div<{ selected?: boolean }>`\n\ttext-transform: uppercase;\n\tfont-weight: bold;\n\tcolor: ${({ selected, theme }) =>\n\t\tselected ? theme.palette.themePrimary : theme.palette.neutralSecondary};\n\twhite-space: nowrap;\n`\n\nexport const Details = styled.div`\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n\toverflow: hidden;\n\ttext-align: left;\n\tcolor: ${({ theme }) => theme.palette.neutralSecondaryAlt};\n`\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport type {\n\tDeriveArgs,\n\tInputColumnArgs,\n\tInputColumnListArgs,\n\tInputColumnRecordArgs,\n\tOrderbyArgs,\n\tOutputColumnArgs,\n\tPivotArgs,\n\tSampleArgs,\n} from '@datashaper/schema'\nimport { Verb } from '@datashaper/schema'\nimport type { Step } from '@datashaper/workflow'\nimport {\n\tisInputColumnListStep,\n\tisInputColumnRecordStep,\n\tisInputColumnStep,\n\tisInputKeyValueStep,\n\tisInputTableListStep,\n\tisOutputColumnStep,\n} from '@datashaper/workflow'\nimport { format } from 'd3-format'\n\n/**\n * Create reasonable short detail text for a step.\n * For most this will be the column or columns operated on,\n * but we have a few special cases too.\n * @param step\n * @returns\n */\nexport function deriveDetails(step: Step): string | undefined {\n\tconst { verb, args } = step\n\n\t// handle special case verbs first\n\tswitch (verb) {\n\t\tcase Verb.Derive:\n\t\t\treturn `from ${(args as DeriveArgs).column1} & ${\n\t\t\t\t(args as DeriveArgs).column2\n\t\t\t}`\n\t\tcase Verb.Orderby:\n\t\t\treturn (args as OrderbyArgs).orders.map((o) => o.column).join(',')\n\t\tcase Verb.Sample:\n\t\t\treturn sample(step)\n\t}\n\n\tif (isInputColumnStep(step)) {\n\t\treturn (args as InputColumnArgs).column\n\t} else if (isInputColumnListStep(step)) {\n\t\treturn (args as InputColumnListArgs).columns.join(',')\n\t} else if (isInputColumnRecordStep(step)) {\n\t\treturn Object.keys((args as InputColumnRecordArgs).columns).join(',')\n\t} else if (isInputKeyValueStep(step)) {\n\t\treturn `${(args as PivotArgs).key} & ${(args as PivotArgs).value}`\n\t} else if (isOutputColumnStep(step)) {\n\t\treturn (args as OutputColumnArgs).to\n\t} else if (isInputTableListStep(step)) {\n\t\tconst others = step.input['other']\n\t\t\t? step.input['other']\n\t\t\t: step.input.others?.join(',')\n\t\treturn `with ${others}`\n\t}\n}\n\nconst whole = format('d')\n\nfunction sample(step: Step): string {\n\tconst args = step.args as SampleArgs\n\treturn args.proportion\n\t\t? `${whole(args.proportion * 100)}% of rows`\n\t\t: `${args.size} rows`\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport type { CollapsiblePanelStyles } from '@essex/components'\nimport styled from '@essex/styled-components'\nimport { useTheme } from '@fluentui/react'\nimport { useMemo } from 'react'\n\nexport const buttonStyles = { width: 100 }\n\nexport const icons = {\n\tpreview: { iconName: 'View' },\n\tadd: { iconName: 'Add' },\n\tchevronRight: { iconName: 'ChevronRight' },\n\tchevronDown: { iconName: 'ChevronDown' },\n\tinfo: { iconName: 'Info' },\n}\n\nexport const Container = styled.div`\n\twidth: 100%;\n\theight: 100%;\n`\n\nexport const ButtonContainer = styled.div`\n\tpadding: 8px;\n\tdisplay: flex;\n\tjustify-content: space-around;\n\tborder-bottom: 1px solid ${({ theme }) => theme.palette.neutralQuaternaryAlt};\n`\n\nexport const StepsContainer = styled.div``\n\nexport function useCollapsiblePanelStyles(): CollapsiblePanelStyles {\n\tconst theme = useTheme()\n\treturn useMemo(\n\t\t() => ({\n\t\t\theader: {\n\t\t\t\tbackground: theme.palette.white,\n\t\t\t\tcolor: theme.palette.neutralPrimary,\n\t\t\t\tpadding: '4px 0',\n\t\t\t\tborderBottom: 'none',\n\t\t\t\tborderTop: 'none',\n\t\t\t},\n\t\t\tcontent: {\n\t\t\t\tborder: 'none',\n\t\t\t\tborderBottom: `1px solid ${theme.palette.neutralQuaternaryAlt}`,\n\t\t\t},\n\t\t}),\n\t\t[theme],\n\t)\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport type { ITheme } from '@fluentui/react'\nimport styled from 'styled-components'\n\nexport const DetailsListContainer = styled.div`\n\toverflow: auto;\n\tdisplay: flex;\n\tflex-direction: column;\n\theight: calc(100% - 44px);\n\tborder-right: 1px solid\n\t\t${({ theme }: { theme: ITheme }) => theme.palette.neutralLighter};\n`\n\nexport const Container = styled.div<{ collapsed: boolean }>`\n\theight: 100%;\n\tdisplay: grid;\n\tgrid-template-columns: ${({ collapsed }) =>\n\t\tcollapsed ? '100% 0' : 'calc(100% - 284px) 284px '};\n`\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport {\n\tArqueroDetailsList,\n\tArqueroTableHeader,\n\tDisplayOrder,\n\tStepList,\n\tTableCommands,\n} from '@datashaper/react'\nimport { KnownProfile } from '@datashaper/schema'\nimport { Workflow } from '@datashaper/workflow'\nimport type { TableBundle } from '@datashaper/workflow'\nimport { ToolPanel } from '@essex/components'\nimport { CommandBar } from '@fluentui/react'\nimport { useObservableState } from 'observable-hooks'\nimport { memo, useCallback, useMemo, useState } from 'react'\nimport type { ProfileComponentProps } from '../../../types.js'\n\nimport { useToolPanelExpandCollapse } from '../hooks.js'\nimport {\n\tuseTableHeaderColors,\n\tuseTableHeaderStyles,\n\tuseToolPanelStyles,\n} from '../styles.js'\nimport {\n\tuseColumnState,\n\tuseOnCreateStep,\n\tuseOnDeleteStep,\n\tuseOnSaveStep,\n\tuseSelectedTable,\n\tuseTableCommandProps,\n} from './TableBundleEditor.hooks.js'\nimport { Container, DetailsListContainer } from './TableBundleEditor.styles.js'\nimport { useDataPackage } from '../../../hooks/useDataPackage.js'\n\nexport const TableBundleEditor: React.FC<ProfileComponentProps<TableBundle>> =\n\tmemo(function TableBundleEditor({ resource }) {\n\t\tconst dataPackage = useDataPackage()\n\t\tconst [workflow, isWorkflowAttached] = useMemo<[Workflow, boolean]>(() => {\n\t\t\tconst result = resource\n\t\t\t\t.getSourcesWithProfile(KnownProfile.Workflow)\n\t\t\t\t.find((t) => !!t) as Workflow | undefined\n\t\t\tconst defaultWorkflow = () => {\n\t\t\t\tconst workflow = new Workflow()\n\t\t\t\tworkflow.input$ = resource.output$\n\t\t\t\t// pre-connect the workflow so it has visibility into table names\n\t\t\t\tworkflow.connect(dataPackage, false)\n\t\t\t\treturn workflow\n\t\t\t}\n\t\t\treturn [result ?? defaultWorkflow(), !!result]\n\t\t\t/* eslint-disable-next-line react-hooks/exhaustive-deps */\n\t\t}, [resource, resource.sources])\n\n\t\tconst [selectedId, setSelectedId] = useState<string | undefined>(undefined)\n\t\tconst [isLatestSelected, setIsLatestSelected] = useState(true)\n\t\tconst [isInputSelected, setIsInputSelected] = useState(false)\n\t\tconst [selectedColumn, onColumnClick] = useColumnState()\n\n\t\t// Derived State\n\t\tconst numSteps = useObservableState(workflow.length$, workflow.length)\n\t\tconst toolPanelHeader = useMemo(\n\t\t\t() => `Workflow steps (${numSteps})`,\n\t\t\t[numSteps],\n\t\t)\n\t\tconst selectedTable = useSelectedTable(\n\t\t\tresource,\n\t\t\tselectedId,\n\t\t\tisInputSelected,\n\t\t\tisLatestSelected,\n\t\t)\n\t\tconst { collapsed, onToggleCollapsed, commandBar, iconProps } =\n\t\t\tuseToolPanelExpandCollapse(\n\t\t\t\t'history-button',\n\t\t\t\t'History',\n\t\t\t\t`(${numSteps ?? '0'})`,\n\t\t\t)\n\n\t\tconst toolPanelStyles = useToolPanelStyles()\n\t\tconst tableHeaderColors = useTableHeaderColors()\n\t\tconst tableHeaderStyles = useTableHeaderStyles()\n\t\tconst tableCommandProps = useTableCommandProps()\n\n\t\t// Event Handlers\n\t\tconst onSave = useOnSaveStep(workflow, resource, isWorkflowAttached)\n\t\tconst onCreate = useOnCreateStep(onSave, setSelectedId)\n\t\tconst onDelete = useOnDeleteStep(workflow, resource)\n\n\t\tconst onSelectTable = useCallback(\n\t\t\t(id: string) => {\n\t\t\t\tsetSelectedId(id)\n\t\t\t\tsetIsLatestSelected(false)\n\t\t\t\tsetIsInputSelected(false)\n\t\t\t},\n\t\t\t[setSelectedId],\n\t\t)\n\t\tconst onSelectInputTable = useCallback(() => {\n\t\t\tsetSelectedId(undefined)\n\t\t\tsetIsLatestSelected(false)\n\t\t\tsetIsInputSelected(true)\n\t\t}, [setSelectedId])\n\t\tconst onSelectLatestTable = useCallback(() => {\n\t\t\tsetSelectedId(undefined)\n\t\t\tsetIsLatestSelected(true)\n\t\t\tsetIsInputSelected(false)\n\t\t}, [setSelectedId])\n\t\tconst name = `${resource.name}${selectedId ? `@${selectedId}` : ''}${\n\t\t\tisInputSelected ? '@input' : ''\n\t\t}`\n\t\treturn selectedTable?.table == null ? null : (\n\t\t\t<Container collapsed={collapsed}>\n\t\t\t\t<DetailsListContainer>\n\t\t\t\t\t<ArqueroTableHeader\n\t\t\t\t\t\tbackground={tableHeaderColors.background}\n\t\t\t\t\t\tstyles={tableHeaderStyles}\n\t\t\t\t\t\tcommandBar={\n\t\t\t\t\t\t\t<TableCommands\n\t\t\t\t\t\t\t\t{...tableCommandProps}\n\t\t\t\t\t\t\t\tworkflow={workflow}\n\t\t\t\t\t\t\t\tselectedColumn={selectedColumn}\n\t\t\t\t\t\t\t\tonAddStep={onCreate}\n\t\t\t\t\t\t\t\tonRemoveStep={onDelete}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfarCommandBar={workflow ? <CommandBar {...commandBar} /> : null}\n\t\t\t\t\t\tname={name}\n\t\t\t\t\t\ttable={selectedTable.table}\n\t\t\t\t\t/>\n\t\t\t\t\t<ArqueroDetailsList\n\t\t\t\t\t\tcompact\n\t\t\t\t\t\tsortable\n\t\t\t\t\t\tshowColumnBorders\n\t\t\t\t\t\tisHeaderFixed\n\t\t\t\t\t\tfill\n\t\t\t\t\t\tselectedColumn={selectedColumn}\n\t\t\t\t\t\tmetadata={selectedTable.metadata}\n\t\t\t\t\t\ttable={selectedTable?.table}\n\t\t\t\t\t\tonColumnSelect={onColumnClick}\n\t\t\t\t\t\tfeatures={{\n\t\t\t\t\t\t\tstatsColumnHeaders: true,\n\t\t\t\t\t\t\thistogramColumnHeaders: true,\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</DetailsListContainer>\n\t\t\t\t{!collapsed && (\n\t\t\t\t\t<ToolPanel\n\t\t\t\t\t\theaderText={toolPanelHeader}\n\t\t\t\t\t\tonDismiss={onToggleCollapsed}\n\t\t\t\t\t\theaderIconProps={iconProps}\n\t\t\t\t\t\tstyles={toolPanelStyles}\n\t\t\t\t\t>\n\t\t\t\t\t\t<StepList\n\t\t\t\t\t\t\torder={DisplayOrder.LastOnTop}\n\t\t\t\t\t\t\tselectedKey={selectedId}\n\t\t\t\t\t\t\tworkflow={workflow}\n\t\t\t\t\t\t\tonSave={onSave}\n\t\t\t\t\t\t\tonDelete={onDelete}\n\t\t\t\t\t\t\tonSelect={onSelectTable}\n\t\t\t\t\t\t\tonSelectInputTable={onSelectInputTable}\n\t\t\t\t\t\t\tonSelectLatestTable={onSelectLatestTable}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ToolPanel>\n\t\t\t\t)}\n\t\t\t</Container>\n\t\t)\n\t})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport type { ArqueroTableHeaderStyles } from '@datashaper/react'\nimport { MessageBar, useTheme } from '@fluentui/react'\nimport { useMemo } from 'react'\nimport styled from 'styled-components'\n\nexport const DatasetContainer = styled.div`\n\tmax-height: calc(100% - 36px);\n\theight: 100%;\n`\n\nexport const Message = styled(MessageBar as any)``\n\nexport const DetailsListContainer = styled.div`\n\theight: 100%;\n`\n\nexport function useHeaderStyles(): ArqueroTableHeaderStyles {\n\tconst theme = useTheme()\n\treturn useMemo(\n\t\t() => ({\n\t\t\troot: {\n\t\t\t\tbackground: theme.palette.white,\n\t\t\t\theight: 36,\n\t\t\t\tborderBottom: `1px solid ${theme.palette.neutralTertiaryAlt}`,\n\t\t\t},\n\t\t}),\n\t\t[theme],\n\t)\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport type { ArqueroDetailsListProps } from '@datashaper/react'\nimport type ColumnTable from 'arquero/dist/types/table/column-table.js'\n\nexport const RawTableDefaultFeatures = {\n\tstatsColumnHeaders: false,\n}\n\nexport interface RawTableProps extends ArqueroDetailsListProps {\n\ttable: ColumnTable\n\terror?: string\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\n\nimport type { Theme } from '@fluentui/react'\nimport styled from 'styled-components'\n\nconst MODAL_WIDTH = 800\nconst MODAL_HEIGHT = 600\nconst HEADER_HEIGHT = 42\nconst FOOTER_HEIGHT = 52\nconst PADDING = 12\nconst CONTENT_HEIGHT = MODAL_HEIGHT - HEADER_HEIGHT - FOOTER_HEIGHT - 12\nconst SIDEBAR_WIDTH = 240\nconst TABLE_HEIGHT = 280\n\nexport const Header = styled.div`\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tpadding: 5px 10px;\n\tbackground-color: ${({ theme }: { theme: Theme }) =>\n\t\ttheme.palette.neutralLighter};\n`\n\nexport const HeaderTitle = styled.span`\n\tdisplay: flex;\n\tfont-weight: bold;\n\tflex-direction: column;\n\tjustify-content: center;\n\tcolor: ${({ theme }: { theme: Theme }) => theme.palette.neutralSecondary};\n`\n\nexport const ModalBody = styled.div`\n\tdisplay: flex;\n\theight: ${CONTENT_HEIGHT}\n\twidth: ${MODAL_WIDTH}px;\n\tgap: ${PADDING * 2}px;\n\tpadding: ${PADDING}px;\n`\n\nexport const Sidebar = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 20px;\n\twidth: ${SIDEBAR_WIDTH}px;\n\tmax-width: ${SIDEBAR_WIDTH}px;\n\tmin-width: ${SIDEBAR_WIDTH}px;\n\theight: ${CONTENT_HEIGHT}px;\n\tmax-height: ${CONTENT_HEIGHT}px;\n\toverflow-y: auto;\n`\n\nexport const MainContent = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\twidth: ${MODAL_WIDTH - SIDEBAR_WIDTH - PADDING * 4}px;\n`\n\nexport const PreviewContent = styled.div`\n\theight: ${TABLE_HEIGHT}px;\n\tborder: 1px solid\n\t\t${({ theme }: { theme: Theme }) => theme.palette.neutralLighter};\n`\n\nexport const Footer = styled.div`\n\twidth: 100%;\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\talign-items: center;\n\tgap: ${PADDING * 2}px;\n\tpadding: 0 ${PADDING}px ${PADDING}px 0;\n`\n\nexport const textFieldStyles = {\n\tfield: {\n\t\theight: TABLE_HEIGHT / 2,\n\t\tmaxHeight: TABLE_HEIGHT / 2,\n\t},\n}\n\nexport const modalStyles = {\n\tmain: { width: MODAL_WIDTH, maxHeight: MODAL_HEIGHT, height: MODAL_HEIGHT },\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport styled from 'styled-components'\n\nexport const Container = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: space-between;\n\theight: 100%;\n\twidth: auto;\n`\n\nexport const TreeContainer = styled.div`\n\twidth: 100%;\n\theight: 100%;\n\toverflow-y: auto;\n`\n\nexport const PanelContainer = styled.div`\n\twidth: 100%;\n\theight: 100%;\n\tborder-top: 2px solid ${({ theme }) => theme.palette.neutralTertiaryAlt};\n`\n\nexport const FooterMenu = styled.div`\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tborder-top: 1px solid ${({ theme }) => theme.palette.neutralTertiaryAlt};\n`\n\nexport const icons = {\n\ttable: { iconName: 'Table' },\n\tsave: { iconName: 'Save' },\n\texpand: { iconName: 'DoubleChevronRight12' },\n\tcollapse: { iconName: 'DoubleChevronLeft12' },\n\tproject: { iconName: 'ZipFolder' },\n\topenFile: { iconName: 'FabricOpenFolderHorizontal' },\n\tnewFile: { iconName: 'NewFolder' },\n\thelp: { iconName: 'ReadingMode' },\n\tsettings: { iconName: 'Settings' },\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport type { ICommandBarStyles } from '@fluentui/react'\nimport { CommandBar, CommandBarButton, useTheme } from '@fluentui/react'\nimport { useMemo } from 'react'\nimport styled from 'styled-components'\n\n// override the command background, which does not update properly in fluent after first render\nexport const Commands = styled(CommandBar as any)`\n\t.ms-CommandBar {\n\t\tpadding-left: unset;\n\t}\n\t.ms-Button {\n\t\tbackground: ${({ theme }) => theme.palette.neutralLighter};\n\t}\n`\n\nexport const CollapsedCommands = styled.div`\n\tbackground: ${({ theme }) => theme.palette.neutralLighter};\n`\n\nexport const CollapsedButton = styled(CommandBarButton as any)`\n\twidth: inherit;\n`\n\nexport const collapsedButtonStyles = {\n\troot: {\n\t\tbackground: 'transparent',\n\t\tminWidth: 'unset',\n\t},\n\tmenuIcon: { display: 'none' },\n\tflexContainer: {\n\t\t// standard fluent button height\n\t\theight: 32,\n\t},\n}\n\nexport const icons = {\n\tnewFile: { iconName: 'NewFolder' },\n\topenFile: { iconName: 'FabricOpenFolderHorizontal' },\n\tsave: { iconName: 'Save' },\n\ttable: { iconName: 'Table' },\n\tgrid: { iconName: 'GridViewSmall' },\n\tfile: { iconName: 'Page' },\n\tproject: { iconName: 'ZipFolder' },\n\topenExpandedView: { iconName: 'DoubleChevronRight12' },\n\tcloseExpandedView: { iconName: 'DoubleChevronLeft12' },\n}\n\nexport function useCommandbarStyles(): ICommandBarStyles {\n\tconst theme = useTheme()\n\treturn useMemo(\n\t\t() => ({\n\t\t\troot: {\n\t\t\t\tbackground: theme.palette.neutralLighter,\n\t\t\t},\n\t\t}),\n\t\t[theme],\n\t)\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport styled from 'styled-components'\n\nexport const Container = styled.div`\n    height: 100%;\n`\n\nexport const Header = styled.div`\n    height: 37px;\n    display: flex;\n    align-items: center;\n    padding: 0 4px;\n    border-bottom: 1px solid ${({ theme }) => theme.palette.neutralTertiaryAlt};\n    background: ${({ theme }) => theme.palette.neutralLighterAlt};\n    color: ${({ theme }) => theme.palette.neutralSecondary};\n    font-size: 12px;\n    font-weight: bold;\n`\n\nexport const Content = styled.div`\n    height: 100%;\n    overflow-y: auto;\n    padding: 10px;\n    h1 {\n        font-size: 14px;\n    }\n    h2 {\n        font-size: 13px;\n    }\n    h3 {\n        font-size: 12px;\n    }\n`\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { MarkdownBrowser } from '@essex/components'\nimport { IconButton } from '@fluentui/react'\nimport { memo } from 'react'\nimport { Else, If, Then } from 'react-if'\n\nimport { Container, Content, Header } from './HelpPanel.styles.js'\nimport type { HelpPanelProps } from './HelpPanel.types.js'\nimport { icons } from './ResourcesPane.styles.js'\n\nexport const HelpPanel: React.FC<HelpPanelProps> = memo(function HelpPanel({\n\tonToggleExpanded,\n\tcurrentHelp,\n\thelpContent,\n}) {\n\treturn (\n\t\t<Container>\n\t\t\t<Header>\n\t\t\t\t<IconButton iconProps={icons.help} onClick={onToggleExpanded} />\n\t\t\t\tGuidance\n\t\t\t</Header>\n\t\t\t<Content>\n\t\t\t\t<If condition={currentHelp != null}>\n\t\t\t\t\t<Then>\n\t\t\t\t\t\t<MarkdownBrowser home={currentHelp} content={helpContent} />\n\t\t\t\t\t</Then>\n\t\t\t\t\t<Else>No help content selected.</Else>\n\t\t\t\t</If>\n\t\t\t</Content>\n\t\t</Container>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { useDropdownProps } from '@essex/components'\nimport type {\n\tIButtonProps,\n\tIDropdownProps,\n\tIDropdownStyles,\n} from '@fluentui/react'\nimport { merge, useTheme } from '@fluentui/react'\nimport { useMemo } from 'react'\nimport styled from 'styled-components'\nimport type { FieldWellStyles } from './FieldWell.types.js'\n\nexport const Container = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 2px;\n\tpadding: 0;\n`\n\nexport const Title = styled.div`\n\tdisplay: flex;\t\n\tfont-size: 0.8em;\n\tcolor: ${({ theme }) => theme.palette.neutralSecondary};\n`\n\nexport const Required = styled.div<{ required?: boolean }>`\n\tcolor: ${({ theme }) => theme.palette.redDark};\n\t&:before {\n\t\tcontent: '${({ required }) => (required ? '*' : '')}';\n\t}\n`\n\nexport const Well = styled.div`\n\twidth: 100%;\n\tdisplay: flex;\n\tjustify-content: flex-start;\n\talign-items: center;\n\tgap: 4px;\n\tcolor: ${({ theme }) => theme.palette.neutralSecondary};\n\tborder: 1px dotted ${({ theme }) => theme.palette.neutralTertiaryAlt};\n\tbackground: ${({ theme }) => theme.palette.neutralLighter};\n\tborder-radius: 4px;\n\tpadding: 3px 8px;\n`\n\nexport function useFieldWellStyles(\n\tstyles?: Partial<FieldWellStyles>,\n): FieldWellStyles {\n\tconst theme = useTheme()\n\treturn useMemo(\n\t\t() =>\n\t\t\tmerge(\n\t\t\t\t{\n\t\t\t\t\tdropdown: {\n\t\t\t\t\t\troot: {\n\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t\tborder: 'none',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdropdown: {\n\t\t\t\t\t\t\tborder: 'none',\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttitle: {\n\t\t\t\t\t\t\tbackground: 'none',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\ticon: {\n\t\t\t\t\t\troot: {\n\t\t\t\t\t\t\tcolor: theme.palette.neutralPrimary,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tstyles,\n\t\t\t),\n\t\t[theme, styles],\n\t)\n}\n\nexport function useFieldDropdownProps(\n\tdropdownStyles?: Partial<IDropdownStyles>,\n): Partial<IDropdownProps> {\n\tconst base = useMemo(\n\t\t() => ({\n\t\t\tstyles: merge(\n\t\t\t\t{\n\t\t\t\t\ttitle: {\n\t\t\t\t\t\tborder: 'none',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tdropdownStyles,\n\t\t\t),\n\t\t}),\n\t\t[dropdownStyles],\n\t)\n\treturn useDropdownProps(base, 'small')\n}\n\nexport function useResetButtonProps(disabled?: boolean): IButtonProps {\n\tconst theme = useTheme()\n\treturn useMemo(\n\t\t() => ({\n\t\t\ticonProps: {\n\t\t\t\ticonName: 'Clear',\n\t\t\t\tstyles: {\n\t\t\t\t\troot: {\n\t\t\t\t\t\t// TODO: this should be possible declaratively with fluent props for the disabled icon state\n\t\t\t\t\t\tcolor: disabled\n\t\t\t\t\t\t\t? theme.palette.neutralTertiaryAlt\n\t\t\t\t\t\t\t: theme.palette.neutralPrimary,\n\t\t\t\t\t\tfontSize: 9,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tstyles: {\n\t\t\t\troot: {\n\t\t\t\t\tborderRadius: 0,\n\t\t\t\t\tpadding: 0,\n\t\t\t\t\tmargin: 0,\n\t\t\t\t\twidth: 12,\n\t\t\t\t\theight: 12,\n\t\t\t\t},\n\t\t\t},\n\t\t}),\n\t\t[theme, disabled],\n\t)\n}\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport type { IDropdownOption } from '@fluentui/react'\nimport { IconButton, Icon, Dropdown } from '@fluentui/react'\nimport { memo, useCallback } from 'react'\nimport { When } from 'react-if'\n\nimport {\n\tContainer,\n\tRequired,\n\tTitle,\n\tuseFieldDropdownProps,\n\tuseFieldWellStyles,\n\tuseResetButtonProps,\n\tWell,\n} from './FieldWell.styles.js'\nimport type { FieldWellProps } from './FieldWell.types.js'\n\nexport const FieldWell: React.FC<FieldWellProps> = memo(function FieldWell({\n\ttitle,\n\tplaceholder,\n\ticon,\n\trequired,\n\tdisabled,\n\tselectedKey,\n\toptions,\n\tonChange,\n\tonReset,\n\tstyles,\n}) {\n\tconst _styles = useFieldWellStyles(styles)\n\tconst dropdownDisabled = disabled || !options || options.length === 0\n\tconst dropdownProps = useFieldDropdownProps(_styles.dropdown)\n\n\tconst resetDisabled = selectedKey === undefined\n\tconst resetProps = useResetButtonProps(resetDisabled)\n\tconst handleChange = useCallback(\n\t\t(_e: React.FormEvent<HTMLDivElement>, option?: IDropdownOption) =>\n\t\t\tonChange?.(option?.key as string),\n\t\t[onChange],\n\t)\n\n\treturn (\n\t\t<Container style={_styles.root}>\n\t\t\t<Title style={_styles.title}>\n\t\t\t\t{title}\n\t\t\t\t<Required required={required} style={_styles.required} />\n\t\t\t</Title>\n\t\t\t<Well style={_styles.well}>\n\t\t\t\t<Icon iconName={icon} styles={_styles.icon} />\n\t\t\t\t<Dropdown\n\t\t\t\t\tonClick={(e) => e.stopPropagation()}\n\t\t\t\t\tdisabled={dropdownDisabled}\n\t\t\t\t\toptions={options || []}\n\t\t\t\t\tplaceholder={dropdownDisabled ? '(No valid options)' : placeholder}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tselectedKey={selectedKey || null}\n\t\t\t\t\t{...dropdownProps}\n\t\t\t\t/>\n\t\t\t\t<When condition={onReset !== undefined}>\n\t\t\t\t\t<IconButton\n\t\t\t\t\t\t{...resetProps}\n\t\t\t\t\t\tdisabled={resetDisabled}\n\t\t\t\t\t\tonClick={onReset}\n\t\t\t\t\t/>\n\t\t\t\t</When>\n\t\t\t</Well>\n\t\t</Container>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport styled from 'styled-components'\n\nexport const Container = styled.div`\n    height: 100%;\n`\n\nexport const Header = styled.div`\n    height: 37px;\n    display: flex;\n    align-items: center;\n    padding: 0 4px;\n    border-bottom: 1px solid ${({ theme }) => theme.palette.neutralTertiaryAlt};\n    background: ${({ theme }) => theme.palette.neutralLighterAlt};\n    color: ${({ theme }) => theme.palette.neutralSecondary};\n    font-size: 12px;\n    font-weight: bold;\n`\n\nexport const Content = styled.div`\n    height: calc(100% - 37px);\n    overflow-y: auto;\n`\n\nexport const Inner = styled.div`\n    height: 100%;\n    overflow-y: none;\n    padding: 10px;\n`\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */ export const containerStyle = {\n    display: 'flex',\n    flexDirection: 'column',\n    gap: 8\n};\nexport const groupContainerStyle = {\n    display: 'flex',\n    flexDirection: 'column',\n    gap: 20\n};\nexport const toggleStyles = {\n    root: {\n        marginBottom: 0\n    }\n};\nexport const checkboxStyles = {\n    label: {\n        // this is to match the overall label styling of the other controls, which is always bold\n        fontWeight: 'bold'\n    }\n};\nexport const checkboxesStyle = {\n    display: 'flex',\n    flexDirection: 'column',\n    gap: 12\n};\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport styled from 'styled-components'\n\nexport const Container = styled.footer`\n\twidth: 100%;\n\theight: 32px;\n\tfont-size: 12px;\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: center;\n\tgap: 18px;\n\talign-items: center;\n\tcolor: ${({ theme }) => theme.palette.neutralTertiary};\n\tbackground: ${({ theme }) => theme.palette.neutralLight};\n\tborder-top: 1px solid ${({ theme }) => theme.palette.neutralTertiaryAlt};\n`\n\nexport const constants = {\n\tprivacyUrl: 'https://go.microsoft.com/fwlink/?LinkId=521839',\n\ttermsOfUseUrl: 'https://go.microsoft.com/fwlink/?LinkID=206977',\n\ttrademarksUrl: 'https://www.microsoft.com/trademarks',\n\tmicrosoft: 'https://www.microsoft.com',\n\tcopyright: ` ${new Date().getFullYear()} Microsoft`,\n\tgithub: 'https://github.com/microsoft/datashaper',\n}\n\nexport const LinkDiv = styled.div`\n\tcursor: pointer;\n`\nexport const LinkA = styled.a`\n\tcursor: pointer;\n\ttext-decoration: none !important;\n`\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { useMicrosoftConsentBanner } from '@essex/hooks'\nimport { useTheme } from '@fluentui/react'\nimport type { FC } from 'react'\nimport { memo } from 'react'\n\nimport { constants, Container, LinkA, LinkDiv } from './Footer.styles.js'\n\nexport const Footer: FC = memo(function Footer() {\n\tconst theme = useTheme()\n\tconst CONSENT_CONF = {\n\t\ttheme: theme.isInverted ? 'dark' : 'light',\n\t\telementId: 'cookie-banner',\n\t\tonChange: (c: any) => console.log('consent changed', c),\n\t}\n\tconst [, manageConsent] = useMicrosoftConsentBanner(CONSENT_CONF)\n\n\treturn (\n\t\t<Container>\n\t\t\t<Link href={constants.privacyUrl}>Privacy</Link>\n\t\t\t{' | '}\n\t\t\t<Link\n\t\t\t\tid={'managecookies'}\n\t\t\t\tonClick={manageConsent}\n\t\t\t\tstyle={{ color: theme.palette.themePrimary }}\n\t\t\t>\n\t\t\t\tCookies\n\t\t\t</Link>\n\t\t\t{' | '}\n\t\t\t<Link href={constants.termsOfUseUrl}>Terms of Use</Link>\n\t\t\t{' | '}\n\t\t\t<Link href={constants.trademarksUrl}>Trademarks</Link>\n\t\t\t{' | '}\n\t\t\t<Link href={constants.microsoft}>{constants.copyright}</Link>\n\t\t\t{' | '}\n\t\t\t<Link href={constants.github}>GitHub</Link>\n\t\t</Container>\n\t)\n})\n\nconst Link: FC<\n\tReact.PropsWithChildren<{\n\t\thref?: string\n\t\tid?: string\n\t\tclassName?: string\n\t\tstyle?: React.CSSProperties\n\t\tonClick?: () => void\n\t}>\n> = memo(function Link({ id, className, children, href, style, onClick }) {\n\treturn href == null ? (\n\t\t<LinkDiv style={style} className={className} id={id} onClick={onClick}>\n\t\t\t{children}\n\t\t</LinkDiv>\n\t) : (\n\t\t<LinkA\n\t\t\ttarget='_blank'\n\t\t\trel='noreferrer'\n\t\t\thref={href}\n\t\t\tstyle={style}\n\t\t\tclassName={className}\n\t\t\tid={id}\n\t\t>\n\t\t\t{children}\n\t\t</LinkA>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { FontIcon } from '@fluentui/react'\nimport styled from 'styled-components'\n\n// always ensure the header is dark, regardless of mode\nexport const Container = styled.div`\n\tpadding: 0 16px 0 16px;\n\tbackground: ${({ theme }) =>\n\t\ttheme.isInverted\n\t\t\t? theme.palette.neutralQuaternary\n\t\t\t: theme.palette.neutralPrimary};\n\tborder-bottom: 1px solid\n\t\t${({ theme }) =>\n\t\t\ttheme.isInverted\n\t\t\t\t? theme.palette.neutralTertiary\n\t\t\t\t: theme.palette.neutralSecondary};\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: space-between;\n\talign-items: center;\n\theight: 42px;\n`\n\nexport const Title = styled.h1`\n\ttext-transform: uppercase;\n\tfont-size: 25px;\n\talign-self: center;\n\tmargin: 0;\n\tpadding: 0;\n\tcolor: ${({ theme }) =>\n\t\ttheme.isInverted\n\t\t\t? theme.palette.neutralSecondary\n\t\t\t: theme.palette.neutralTertiaryAlt};\n`\n\nexport const StyledFontIcon = styled(FontIcon as any)`\n\tfont-size: 18px;\n\theight: 18px;\n\twidth: 18px;\n\tcursor: pointer;\n\tcolor: ${({ theme }) =>\n\t\ttheme.isInverted ? theme.palette.neutralPrimary : theme.palette.white};\n`\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { memo } from 'react'\n\nimport { Container, Title } from './Header.styles.js'\nimport type { HeaderProps } from './Header.types.js'\n\nexport const Header: React.FC<HeaderProps> = memo(function Header() {\n\treturn (\n\t\t<Container>\n\t\t\t<Title>DataShaper</Title>\n\t\t</Container>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport { memo } from 'react'\n\nimport { Footer } from './Footer.js'\nimport { Header } from './Header.js'\nimport { Content } from './Layout.styles.js'\n\nexport const Layout: React.FC<\n\tReact.PropsWithChildren<{\n\t\t/*nothing*/\n\t}>\n> = memo(function Layout({ children }) {\n\treturn (\n\t\t<>\n\t\t\t<Header />\n\t\t\t<Content className={'layout-content-container'}>{children}</Content>\n\t\t\t<Footer />\n\t\t</>\n\t)\n})\n","/*!\n * Copyright (c) Microsoft. All rights reserved.\n * Licensed under the MIT license. See LICENSE file in the project.\n */\nimport 'allotment/dist/style.css'\n\nimport { type AppProfile, DataShaperApp } from '@datashaper/app-framework'\nimport { Spinner } from '@fluentui/react'\nimport { useConst } from '@fluentui/react-hooks'\nimport { memo, Suspense } from 'react'\nimport { HashRouter } from 'react-router-dom'\nimport { RecoilRoot } from 'recoil'\n\nimport { Layout } from '../components/Layout.js'\nimport { TestAppProfile } from '../profiles/index.js'\nimport { About } from './About.js'\nimport { ErrorBoundary } from './ErrorBoundary.js'\nimport { StyleContext } from './StyleContext.js'\nimport type { AppContext, AppSettings } from '../types.js'\n\nconst examples = [\n\t{ name: 'Smoking', url: 'examples/smoking.json' },\n\t{ name: 'Companies', url: 'examples/companies.json' },\n]\n\nconst defaultSettings: AppSettings = {\n\tdarkMode: true,\n}\n\nconst context: AppContext = {\n\tinitialSettings: {\n\t\tname: 'Tester',\n\t},\n}\n\nexport const App: React.FC = memo(function App() {\n\tconst customProfiles = useConst<AppProfile[]>(\n\t\t() => [new TestAppProfile()] as AppProfile<any, any>[],\n\t)\n\treturn (\n\t\t<ErrorBoundary>\n\t\t\t<RecoilRoot>\n\t\t\t\t<HashRouter>\n\t\t\t\t\t<Suspense fallback={<Spinner />}>\n\t\t\t\t\t\t<StyleContext>\n\t\t\t\t\t\t\t<Layout>\n\t\t\t\t\t\t\t\t<DataShaperApp\n\t\t\t\t\t\t\t\t\texamples={examples}\n\t\t\t\t\t\t\t\t\tprofiles={customProfiles}\n\t\t\t\t\t\t\t\t\tdefaultSettings={defaultSettings}\n\t\t\t\t\t\t\t\t\tappContext={context}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<About />\n\t\t\t\t\t\t\t\t</DataShaperApp>\n\t\t\t\t\t\t\t</Layout>\n\t\t\t\t\t\t</StyleContext>\n\t\t\t\t\t</Suspense>\n\t\t\t\t</HashRouter>\n\t\t\t</RecoilRoot>\n\t\t</ErrorBoundary>\n\t)\n})\n"],"names":[],"sourceRoot":""}